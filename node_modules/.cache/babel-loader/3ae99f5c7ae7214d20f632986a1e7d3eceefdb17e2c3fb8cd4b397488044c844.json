{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst Dependency = require(\"../Dependency\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst ModuleDependency = require(\"./ModuleDependency\");\n\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n/** @typedef {import(\"../AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n/** @typedef {import(\"../Dependency\").ReferencedExport} ReferencedExport */\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../javascript/JavascriptParser\").Attributes} Attributes */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/runtime\").RuntimeSpec} RuntimeSpec */\n\nclass ImportDependency extends ModuleDependency {\n  /**\n   * @param {string} request the request\n   * @param {Range} range expression range\n   * @param {(string[][] | null)=} referencedExports list of referenced exports\n   * @param {Attributes=} attributes assertions\n   */\n  constructor(request, range, referencedExports, attributes) {\n    super(request);\n    this.range = range;\n    this.referencedExports = referencedExports;\n    this.assertions = attributes;\n  }\n  get type() {\n    return \"import()\";\n  }\n  get category() {\n    return \"esm\";\n  }\n\n  /**\n   * Returns list of exports referenced by this dependency\n   * @param {ModuleGraph} moduleGraph module graph\n   * @param {RuntimeSpec} runtime the runtime for which the module is analysed\n   * @returns {(string[] | ReferencedExport)[]} referenced exports\n   */\n  getReferencedExports(moduleGraph, runtime) {\n    if (!this.referencedExports) return Dependency.EXPORTS_OBJECT_REFERENCED;\n    const refs = [];\n    for (const referencedExport of this.referencedExports) {\n      if (referencedExport[0] === \"default\") {\n        const selfModule = /** @type {Module} */\n        moduleGraph.getParentModule(this);\n        const importedModule = /** @type {Module} */\n        moduleGraph.getModule(this);\n        const exportsType = importedModule.getExportsType(moduleGraph, /** @type {BuildMeta} */\n        selfModule.buildMeta.strictHarmonyModule);\n        if (exportsType === \"default-only\" || exportsType === \"default-with-named\") {\n          return Dependency.EXPORTS_OBJECT_REFERENCED;\n        }\n      }\n      refs.push({\n        name: referencedExport,\n        canMangle: false\n      });\n    }\n    return refs;\n  }\n\n  /**\n   * @param {ObjectSerializerContext} context context\n   */\n  serialize(context) {\n    context.write(this.range);\n    context.write(this.referencedExports);\n    context.write(this.assertions);\n    super.serialize(context);\n  }\n\n  /**\n   * @param {ObjectDeserializerContext} context context\n   */\n  deserialize(context) {\n    this.range = context.read();\n    this.referencedExports = context.read();\n    this.assertions = context.read();\n    super.deserialize(context);\n  }\n}\nmakeSerializable(ImportDependency, \"webpack/lib/dependencies/ImportDependency\");\nImportDependency.Template = class ImportDependencyTemplate extends ModuleDependency.Template {\n  /**\n   * @param {Dependency} dependency the dependency for which the template should be applied\n   * @param {ReplaceSource} source the current replace source which can be modified\n   * @param {DependencyTemplateContext} templateContext the context object\n   * @returns {void}\n   */\n  apply(dependency, source, {\n    runtimeTemplate,\n    module,\n    moduleGraph,\n    chunkGraph,\n    runtimeRequirements\n  }) {\n    const dep = /** @type {ImportDependency} */dependency;\n    const block = /** @type {AsyncDependenciesBlock} */\n    moduleGraph.getParentBlock(dep);\n    const content = runtimeTemplate.moduleNamespacePromise({\n      chunkGraph,\n      block: block,\n      module: ( /** @type {Module} */moduleGraph.getModule(dep)),\n      request: dep.request,\n      strict: /** @type {BuildMeta} */module.buildMeta.strictHarmonyModule,\n      message: \"import()\",\n      runtimeRequirements\n    });\n    source.replace(dep.range[0], dep.range[1] - 1, content);\n  }\n};\nmodule.exports = ImportDependency;","map":{"version":3,"names":["Dependency","require","makeSerializable","ModuleDependency","ImportDependency","constructor","request","range","referencedExports","attributes","assertions","type","category","getReferencedExports","moduleGraph","runtime","EXPORTS_OBJECT_REFERENCED","refs","referencedExport","selfModule","getParentModule","importedModule","getModule","exportsType","getExportsType","buildMeta","strictHarmonyModule","push","name","canMangle","serialize","context","write","deserialize","read","Template","ImportDependencyTemplate","apply","dependency","source","runtimeTemplate","module","chunkGraph","runtimeRequirements","dep","block","getParentBlock","content","moduleNamespacePromise","strict","message","replace","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/dependencies/ImportDependency.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst Dependency = require(\"../Dependency\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst ModuleDependency = require(\"./ModuleDependency\");\n\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n/** @typedef {import(\"../AsyncDependenciesBlock\")} AsyncDependenciesBlock */\n/** @typedef {import(\"../Dependency\").ReferencedExport} ReferencedExport */\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../javascript/JavascriptParser\").Attributes} Attributes */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/runtime\").RuntimeSpec} RuntimeSpec */\n\nclass ImportDependency extends ModuleDependency {\n\t/**\n\t * @param {string} request the request\n\t * @param {Range} range expression range\n\t * @param {(string[][] | null)=} referencedExports list of referenced exports\n\t * @param {Attributes=} attributes assertions\n\t */\n\tconstructor(request, range, referencedExports, attributes) {\n\t\tsuper(request);\n\t\tthis.range = range;\n\t\tthis.referencedExports = referencedExports;\n\t\tthis.assertions = attributes;\n\t}\n\n\tget type() {\n\t\treturn \"import()\";\n\t}\n\n\tget category() {\n\t\treturn \"esm\";\n\t}\n\n\t/**\n\t * Returns list of exports referenced by this dependency\n\t * @param {ModuleGraph} moduleGraph module graph\n\t * @param {RuntimeSpec} runtime the runtime for which the module is analysed\n\t * @returns {(string[] | ReferencedExport)[]} referenced exports\n\t */\n\tgetReferencedExports(moduleGraph, runtime) {\n\t\tif (!this.referencedExports) return Dependency.EXPORTS_OBJECT_REFERENCED;\n\t\tconst refs = [];\n\t\tfor (const referencedExport of this.referencedExports) {\n\t\t\tif (referencedExport[0] === \"default\") {\n\t\t\t\tconst selfModule =\n\t\t\t\t\t/** @type {Module} */\n\t\t\t\t\t(moduleGraph.getParentModule(this));\n\t\t\t\tconst importedModule =\n\t\t\t\t\t/** @type {Module} */\n\t\t\t\t\t(moduleGraph.getModule(this));\n\t\t\t\tconst exportsType = importedModule.getExportsType(\n\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t/** @type {BuildMeta} */\n\t\t\t\t\t(selfModule.buildMeta).strictHarmonyModule\n\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\texportsType === \"default-only\" ||\n\t\t\t\t\texportsType === \"default-with-named\"\n\t\t\t\t) {\n\t\t\t\t\treturn Dependency.EXPORTS_OBJECT_REFERENCED;\n\t\t\t\t}\n\t\t\t}\n\t\t\trefs.push({\n\t\t\t\tname: referencedExport,\n\t\t\t\tcanMangle: false\n\t\t\t});\n\t\t}\n\t\treturn refs;\n\t}\n\n\t/**\n\t * @param {ObjectSerializerContext} context context\n\t */\n\tserialize(context) {\n\t\tcontext.write(this.range);\n\t\tcontext.write(this.referencedExports);\n\t\tcontext.write(this.assertions);\n\t\tsuper.serialize(context);\n\t}\n\n\t/**\n\t * @param {ObjectDeserializerContext} context context\n\t */\n\tdeserialize(context) {\n\t\tthis.range = context.read();\n\t\tthis.referencedExports = context.read();\n\t\tthis.assertions = context.read();\n\t\tsuper.deserialize(context);\n\t}\n}\n\nmakeSerializable(ImportDependency, \"webpack/lib/dependencies/ImportDependency\");\n\nImportDependency.Template = class ImportDependencyTemplate extends (\n\tModuleDependency.Template\n) {\n\t/**\n\t * @param {Dependency} dependency the dependency for which the template should be applied\n\t * @param {ReplaceSource} source the current replace source which can be modified\n\t * @param {DependencyTemplateContext} templateContext the context object\n\t * @returns {void}\n\t */\n\tapply(\n\t\tdependency,\n\t\tsource,\n\t\t{ runtimeTemplate, module, moduleGraph, chunkGraph, runtimeRequirements }\n\t) {\n\t\tconst dep = /** @type {ImportDependency} */ (dependency);\n\t\tconst block = /** @type {AsyncDependenciesBlock} */ (\n\t\t\tmoduleGraph.getParentBlock(dep)\n\t\t);\n\t\tconst content = runtimeTemplate.moduleNamespacePromise({\n\t\t\tchunkGraph,\n\t\t\tblock: block,\n\t\t\tmodule: /** @type {Module} */ (moduleGraph.getModule(dep)),\n\t\t\trequest: dep.request,\n\t\t\tstrict: /** @type {BuildMeta} */ (module.buildMeta).strictHarmonyModule,\n\t\t\tmessage: \"import()\",\n\t\t\truntimeRequirements\n\t\t});\n\n\t\tsource.replace(dep.range[0], dep.range[1] - 1, content);\n\t}\n};\n\nmodule.exports = ImportDependency;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}