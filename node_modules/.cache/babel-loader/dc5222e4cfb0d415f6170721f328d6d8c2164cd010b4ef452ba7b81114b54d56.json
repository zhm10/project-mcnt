{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst {\n  UsageState\n} = require(\"../ExportsInfo\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst NullDependency = require(\"./NullDependency\");\n\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../Dependency\")} Dependency */\n/** @typedef {import(\"../Dependency\").UpdateHashContext} UpdateHashContext */\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/runtime\").RuntimeSpec} RuntimeSpec */\n\n/**\n * @param {ModuleGraph} moduleGraph the module graph\n * @param {Module} module the module\n * @param {string[] | null} _exportName name of the export if any\n * @param {string | null} property name of the requested property\n * @param {RuntimeSpec} runtime for which runtime\n * @returns {any} value of the property\n */\nconst getProperty = (moduleGraph, module, _exportName, property, runtime) => {\n  if (!_exportName) {\n    switch (property) {\n      case \"usedExports\":\n        {\n          const usedExports = moduleGraph.getExportsInfo(module).getUsedExports(runtime);\n          if (typeof usedExports === \"boolean\" || usedExports === undefined || usedExports === null) {\n            return usedExports;\n          }\n          return Array.from(usedExports).sort();\n        }\n    }\n  }\n  const exportName = /** @type {string[]} */_exportName;\n  switch (property) {\n    case \"canMangle\":\n      {\n        const exportsInfo = moduleGraph.getExportsInfo(module);\n        const exportInfo = exportsInfo.getExportInfo(exportName[0]);\n        if (exportInfo) return exportInfo.canMangle;\n        return exportsInfo.otherExportsInfo.canMangle;\n      }\n    case \"used\":\n      return moduleGraph.getExportsInfo(module).getUsed(exportName, runtime) !== UsageState.Unused;\n    case \"useInfo\":\n      {\n        const state = moduleGraph.getExportsInfo(module).getUsed(exportName, runtime);\n        switch (state) {\n          case UsageState.Used:\n          case UsageState.OnlyPropertiesUsed:\n            return true;\n          case UsageState.Unused:\n            return false;\n          case UsageState.NoInfo:\n            return undefined;\n          case UsageState.Unknown:\n            return null;\n          default:\n            throw new Error(`Unexpected UsageState ${state}`);\n        }\n      }\n    case \"provideInfo\":\n      return moduleGraph.getExportsInfo(module).isExportProvided(exportName);\n  }\n  return undefined;\n};\nclass ExportsInfoDependency extends NullDependency {\n  /**\n   * @param {Range} range range\n   * @param {string[] | null} exportName export name\n   * @param {string | null} property property\n   */\n  constructor(range, exportName, property) {\n    super();\n    this.range = range;\n    this.exportName = exportName;\n    this.property = property;\n  }\n\n  /**\n   * @param {ObjectSerializerContext} context context\n   */\n  serialize(context) {\n    const {\n      write\n    } = context;\n    write(this.range);\n    write(this.exportName);\n    write(this.property);\n    super.serialize(context);\n  }\n\n  /**\n   * @param {ObjectDeserializerContext} context context\n   * @returns {ExportsInfoDependency} ExportsInfoDependency\n   */\n  static deserialize(context) {\n    const obj = new ExportsInfoDependency(context.read(), context.read(), context.read());\n    obj.deserialize(context);\n    return obj;\n  }\n}\nmakeSerializable(ExportsInfoDependency, \"webpack/lib/dependencies/ExportsInfoDependency\");\nExportsInfoDependency.Template = class ExportsInfoDependencyTemplate extends NullDependency.Template {\n  /**\n   * @param {Dependency} dependency the dependency for which the template should be applied\n   * @param {ReplaceSource} source the current replace source which can be modified\n   * @param {DependencyTemplateContext} templateContext the context object\n   * @returns {void}\n   */\n  apply(dependency, source, {\n    module,\n    moduleGraph,\n    runtime\n  }) {\n    const dep = /** @type {ExportsInfoDependency} */dependency;\n    const value = getProperty(moduleGraph, module, dep.exportName, dep.property, runtime);\n    source.replace(dep.range[0], dep.range[1] - 1, value === undefined ? \"undefined\" : JSON.stringify(value));\n  }\n};\nmodule.exports = ExportsInfoDependency;","map":{"version":3,"names":["UsageState","require","makeSerializable","NullDependency","getProperty","moduleGraph","module","_exportName","property","runtime","usedExports","getExportsInfo","getUsedExports","undefined","Array","from","sort","exportName","exportsInfo","exportInfo","getExportInfo","canMangle","otherExportsInfo","getUsed","Unused","state","Used","OnlyPropertiesUsed","NoInfo","Unknown","Error","isExportProvided","ExportsInfoDependency","constructor","range","serialize","context","write","deserialize","obj","read","Template","ExportsInfoDependencyTemplate","apply","dependency","source","dep","value","replace","JSON","stringify","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/dependencies/ExportsInfoDependency.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { UsageState } = require(\"../ExportsInfo\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst NullDependency = require(\"./NullDependency\");\n\n/** @typedef {import(\"webpack-sources\").ReplaceSource} ReplaceSource */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../Dependency\")} Dependency */\n/** @typedef {import(\"../Dependency\").UpdateHashContext} UpdateHashContext */\n/** @typedef {import(\"../DependencyTemplate\").DependencyTemplateContext} DependencyTemplateContext */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/runtime\").RuntimeSpec} RuntimeSpec */\n\n/**\n * @param {ModuleGraph} moduleGraph the module graph\n * @param {Module} module the module\n * @param {string[] | null} _exportName name of the export if any\n * @param {string | null} property name of the requested property\n * @param {RuntimeSpec} runtime for which runtime\n * @returns {any} value of the property\n */\nconst getProperty = (moduleGraph, module, _exportName, property, runtime) => {\n\tif (!_exportName) {\n\t\tswitch (property) {\n\t\t\tcase \"usedExports\": {\n\t\t\t\tconst usedExports = moduleGraph\n\t\t\t\t\t.getExportsInfo(module)\n\t\t\t\t\t.getUsedExports(runtime);\n\t\t\t\tif (\n\t\t\t\t\ttypeof usedExports === \"boolean\" ||\n\t\t\t\t\tusedExports === undefined ||\n\t\t\t\t\tusedExports === null\n\t\t\t\t) {\n\t\t\t\t\treturn usedExports;\n\t\t\t\t}\n\t\t\t\treturn Array.from(usedExports).sort();\n\t\t\t}\n\t\t}\n\t}\n\tconst exportName = /** @type {string[]} */ (_exportName);\n\tswitch (property) {\n\t\tcase \"canMangle\": {\n\t\t\tconst exportsInfo = moduleGraph.getExportsInfo(module);\n\t\t\tconst exportInfo = exportsInfo.getExportInfo(exportName[0]);\n\t\t\tif (exportInfo) return exportInfo.canMangle;\n\t\t\treturn exportsInfo.otherExportsInfo.canMangle;\n\t\t}\n\t\tcase \"used\":\n\t\t\treturn (\n\t\t\t\tmoduleGraph.getExportsInfo(module).getUsed(exportName, runtime) !==\n\t\t\t\tUsageState.Unused\n\t\t\t);\n\t\tcase \"useInfo\": {\n\t\t\tconst state = moduleGraph\n\t\t\t\t.getExportsInfo(module)\n\t\t\t\t.getUsed(exportName, runtime);\n\t\t\tswitch (state) {\n\t\t\t\tcase UsageState.Used:\n\t\t\t\tcase UsageState.OnlyPropertiesUsed:\n\t\t\t\t\treturn true;\n\t\t\t\tcase UsageState.Unused:\n\t\t\t\t\treturn false;\n\t\t\t\tcase UsageState.NoInfo:\n\t\t\t\t\treturn undefined;\n\t\t\t\tcase UsageState.Unknown:\n\t\t\t\t\treturn null;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Unexpected UsageState ${state}`);\n\t\t\t}\n\t\t}\n\t\tcase \"provideInfo\":\n\t\t\treturn moduleGraph.getExportsInfo(module).isExportProvided(exportName);\n\t}\n\treturn undefined;\n};\n\nclass ExportsInfoDependency extends NullDependency {\n\t/**\n\t * @param {Range} range range\n\t * @param {string[] | null} exportName export name\n\t * @param {string | null} property property\n\t */\n\tconstructor(range, exportName, property) {\n\t\tsuper();\n\t\tthis.range = range;\n\t\tthis.exportName = exportName;\n\t\tthis.property = property;\n\t}\n\n\t/**\n\t * @param {ObjectSerializerContext} context context\n\t */\n\tserialize(context) {\n\t\tconst { write } = context;\n\t\twrite(this.range);\n\t\twrite(this.exportName);\n\t\twrite(this.property);\n\t\tsuper.serialize(context);\n\t}\n\n\t/**\n\t * @param {ObjectDeserializerContext} context context\n\t * @returns {ExportsInfoDependency} ExportsInfoDependency\n\t */\n\tstatic deserialize(context) {\n\t\tconst obj = new ExportsInfoDependency(\n\t\t\tcontext.read(),\n\t\t\tcontext.read(),\n\t\t\tcontext.read()\n\t\t);\n\t\tobj.deserialize(context);\n\t\treturn obj;\n\t}\n}\n\nmakeSerializable(\n\tExportsInfoDependency,\n\t\"webpack/lib/dependencies/ExportsInfoDependency\"\n);\n\nExportsInfoDependency.Template = class ExportsInfoDependencyTemplate extends (\n\tNullDependency.Template\n) {\n\t/**\n\t * @param {Dependency} dependency the dependency for which the template should be applied\n\t * @param {ReplaceSource} source the current replace source which can be modified\n\t * @param {DependencyTemplateContext} templateContext the context object\n\t * @returns {void}\n\t */\n\tapply(dependency, source, { module, moduleGraph, runtime }) {\n\t\tconst dep = /** @type {ExportsInfoDependency} */ (dependency);\n\n\t\tconst value = getProperty(\n\t\t\tmoduleGraph,\n\t\t\tmodule,\n\t\t\tdep.exportName,\n\t\t\tdep.property,\n\t\t\truntime\n\t\t);\n\t\tsource.replace(\n\t\t\tdep.range[0],\n\t\t\tdep.range[1] - 1,\n\t\t\tvalue === undefined ? \"undefined\" : JSON.stringify(value)\n\t\t);\n\t}\n};\n\nmodule.exports = ExportsInfoDependency;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}