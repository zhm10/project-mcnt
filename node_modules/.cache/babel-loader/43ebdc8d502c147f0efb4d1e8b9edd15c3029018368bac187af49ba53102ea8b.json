{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst util = require(\"util\");\nconst ExternalModule = require(\"./ExternalModule\");\nconst ContextElementDependency = require(\"./dependencies/ContextElementDependency\");\nconst CssImportDependency = require(\"./dependencies/CssImportDependency\");\nconst HarmonyImportDependency = require(\"./dependencies/HarmonyImportDependency\");\nconst ImportDependency = require(\"./dependencies/ImportDependency\");\nconst {\n  resolveByProperty,\n  cachedSetProperty\n} = require(\"./util/cleverMerge\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").Externals} Externals */\n/** @typedef {import(\"./Compilation\").DepConstructor} DepConstructor */\n/** @typedef {import(\"./ExternalModule\").DependencyMeta} DependencyMeta */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./NormalModuleFactory\")} NormalModuleFactory */\n\nconst UNSPECIFIED_EXTERNAL_TYPE_REGEXP = /^[a-z0-9-]+ /;\nconst EMPTY_RESOLVE_OPTIONS = {};\n\n// TODO webpack 6 remove this\nconst callDeprecatedExternals = util.deprecate((externalsFunction, context, request, cb) => {\n  externalsFunction.call(null, context, request, cb);\n}, \"The externals-function should be defined like ({context, request}, cb) => { ... }\", \"DEP_WEBPACK_EXTERNALS_FUNCTION_PARAMETERS\");\nconst cache = new WeakMap();\nconst resolveLayer = (obj, layer) => {\n  let map = cache.get(obj);\n  if (map === undefined) {\n    map = new Map();\n    cache.set(obj, map);\n  } else {\n    const cacheEntry = map.get(layer);\n    if (cacheEntry !== undefined) return cacheEntry;\n  }\n  const result = resolveByProperty(obj, \"byLayer\", layer);\n  map.set(layer, result);\n  return result;\n};\nclass ExternalModuleFactoryPlugin {\n  /**\n   * @param {string | undefined} type default external type\n   * @param {Externals} externals externals config\n   */\n  constructor(type, externals) {\n    this.type = type;\n    this.externals = externals;\n  }\n\n  /**\n   * @param {NormalModuleFactory} normalModuleFactory the normal module factory\n   * @returns {void}\n   */\n  apply(normalModuleFactory) {\n    const globalType = this.type;\n    normalModuleFactory.hooks.factorize.tapAsync(\"ExternalModuleFactoryPlugin\", (data, callback) => {\n      const context = data.context;\n      const contextInfo = data.contextInfo;\n      const dependency = data.dependencies[0];\n      const dependencyType = data.dependencyType;\n\n      /**\n       * @param {string|string[]|boolean|Record<string, string|string[]>} value the external config\n       * @param {string|undefined} type type of external\n       * @param {function((Error | null)=, ExternalModule=): void} callback callback\n       * @returns {void}\n       */\n      const handleExternal = (value, type, callback) => {\n        if (value === false) {\n          // Not externals, fallback to original factory\n          return callback();\n        }\n        /** @type {string | string[] | Record<string, string|string[]>} */\n        let externalConfig;\n        if (value === true) {\n          externalConfig = dependency.request;\n        } else {\n          externalConfig = value;\n        }\n        // When no explicit type is specified, extract it from the externalConfig\n        if (type === undefined) {\n          if (typeof externalConfig === \"string\" && UNSPECIFIED_EXTERNAL_TYPE_REGEXP.test(externalConfig)) {\n            const idx = externalConfig.indexOf(\" \");\n            type = externalConfig.slice(0, idx);\n            externalConfig = externalConfig.slice(idx + 1);\n          } else if (Array.isArray(externalConfig) && externalConfig.length > 0 && UNSPECIFIED_EXTERNAL_TYPE_REGEXP.test(externalConfig[0])) {\n            const firstItem = externalConfig[0];\n            const idx = firstItem.indexOf(\" \");\n            type = firstItem.slice(0, idx);\n            externalConfig = [firstItem.slice(idx + 1), ...externalConfig.slice(1)];\n          }\n        }\n\n        // TODO make it pluggable/add hooks to `ExternalModule` to allow output modules own externals?\n        /** @type {DependencyMeta | undefined} */\n        let dependencyMeta;\n        if (dependency instanceof HarmonyImportDependency || dependency instanceof ImportDependency || dependency instanceof ContextElementDependency) {\n          dependencyMeta = {\n            attributes: dependency.assertions\n          };\n        } else if (dependency instanceof CssImportDependency) {\n          dependencyMeta = {\n            layer: dependency.layer,\n            supports: dependency.supports,\n            media: dependency.media\n          };\n        }\n        callback(null, new ExternalModule(externalConfig, type || globalType, dependency.request, dependencyMeta));\n      };\n\n      /**\n       * @param {Externals} externals externals config\n       * @param {function((Error | null)=, ExternalModule=): void} callback callback\n       * @returns {void}\n       */\n      const handleExternals = (externals, callback) => {\n        if (typeof externals === \"string\") {\n          if (externals === dependency.request) {\n            return handleExternal(dependency.request, undefined, callback);\n          }\n        } else if (Array.isArray(externals)) {\n          let i = 0;\n          const next = () => {\n            /** @type {boolean | undefined} */\n            let asyncFlag;\n            /**\n             * @param {(Error | null)=} err err\n             * @param {ExternalModule=} module module\n             * @returns {void}\n             */\n            const handleExternalsAndCallback = (err, module) => {\n              if (err) return callback(err);\n              if (!module) {\n                if (asyncFlag) {\n                  asyncFlag = false;\n                  return;\n                }\n                return next();\n              }\n              callback(null, module);\n            };\n            do {\n              asyncFlag = true;\n              if (i >= externals.length) return callback();\n              handleExternals(externals[i++], handleExternalsAndCallback);\n            } while (!asyncFlag);\n            asyncFlag = false;\n          };\n          next();\n          return;\n        } else if (externals instanceof RegExp) {\n          if (externals.test(dependency.request)) {\n            return handleExternal(dependency.request, undefined, callback);\n          }\n        } else if (typeof externals === \"function\") {\n          const cb = (err, value, type) => {\n            if (err) return callback(err);\n            if (value !== undefined) {\n              handleExternal(value, type, callback);\n            } else {\n              callback();\n            }\n          };\n          if (externals.length === 3) {\n            // TODO webpack 6 remove this\n            callDeprecatedExternals(externals, context, dependency.request, cb);\n          } else {\n            const promise = externals({\n              context,\n              request: dependency.request,\n              dependencyType,\n              contextInfo,\n              getResolve: options => (context, request, callback) => {\n                const resolveContext = {\n                  fileDependencies: data.fileDependencies,\n                  missingDependencies: data.missingDependencies,\n                  contextDependencies: data.contextDependencies\n                };\n                let resolver = normalModuleFactory.getResolver(\"normal\", dependencyType ? cachedSetProperty(data.resolveOptions || EMPTY_RESOLVE_OPTIONS, \"dependencyType\", dependencyType) : data.resolveOptions);\n                if (options) resolver = resolver.withOptions(options);\n                if (callback) {\n                  resolver.resolve({}, context, request, resolveContext, callback);\n                } else {\n                  return new Promise((resolve, reject) => {\n                    resolver.resolve({}, context, request, resolveContext, (err, result) => {\n                      if (err) reject(err);else resolve(result);\n                    });\n                  });\n                }\n              }\n            }, cb);\n            if (promise && promise.then) promise.then(r => cb(null, r), cb);\n          }\n          return;\n        } else if (typeof externals === \"object\") {\n          const resolvedExternals = resolveLayer(externals, contextInfo.issuerLayer);\n          if (Object.prototype.hasOwnProperty.call(resolvedExternals, dependency.request)) {\n            return handleExternal(resolvedExternals[dependency.request], undefined, callback);\n          }\n        }\n        callback();\n      };\n      handleExternals(this.externals, callback);\n    });\n  }\n}\nmodule.exports = ExternalModuleFactoryPlugin;","map":{"version":3,"names":["util","require","ExternalModule","ContextElementDependency","CssImportDependency","HarmonyImportDependency","ImportDependency","resolveByProperty","cachedSetProperty","UNSPECIFIED_EXTERNAL_TYPE_REGEXP","EMPTY_RESOLVE_OPTIONS","callDeprecatedExternals","deprecate","externalsFunction","context","request","cb","call","cache","WeakMap","resolveLayer","obj","layer","map","get","undefined","Map","set","cacheEntry","result","ExternalModuleFactoryPlugin","constructor","type","externals","apply","normalModuleFactory","globalType","hooks","factorize","tapAsync","data","callback","contextInfo","dependency","dependencies","dependencyType","handleExternal","value","externalConfig","test","idx","indexOf","slice","Array","isArray","length","firstItem","dependencyMeta","attributes","assertions","supports","media","handleExternals","i","next","asyncFlag","handleExternalsAndCallback","err","module","RegExp","promise","getResolve","options","resolveContext","fileDependencies","missingDependencies","contextDependencies","resolver","getResolver","resolveOptions","withOptions","resolve","Promise","reject","then","r","resolvedExternals","issuerLayer","Object","prototype","hasOwnProperty","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/ExternalModuleFactoryPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst util = require(\"util\");\nconst ExternalModule = require(\"./ExternalModule\");\nconst ContextElementDependency = require(\"./dependencies/ContextElementDependency\");\nconst CssImportDependency = require(\"./dependencies/CssImportDependency\");\nconst HarmonyImportDependency = require(\"./dependencies/HarmonyImportDependency\");\nconst ImportDependency = require(\"./dependencies/ImportDependency\");\nconst { resolveByProperty, cachedSetProperty } = require(\"./util/cleverMerge\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").Externals} Externals */\n/** @typedef {import(\"./Compilation\").DepConstructor} DepConstructor */\n/** @typedef {import(\"./ExternalModule\").DependencyMeta} DependencyMeta */\n/** @typedef {import(\"./Module\")} Module */\n/** @typedef {import(\"./NormalModuleFactory\")} NormalModuleFactory */\n\nconst UNSPECIFIED_EXTERNAL_TYPE_REGEXP = /^[a-z0-9-]+ /;\nconst EMPTY_RESOLVE_OPTIONS = {};\n\n// TODO webpack 6 remove this\nconst callDeprecatedExternals = util.deprecate(\n\t(externalsFunction, context, request, cb) => {\n\t\texternalsFunction.call(null, context, request, cb);\n\t},\n\t\"The externals-function should be defined like ({context, request}, cb) => { ... }\",\n\t\"DEP_WEBPACK_EXTERNALS_FUNCTION_PARAMETERS\"\n);\n\nconst cache = new WeakMap();\n\nconst resolveLayer = (obj, layer) => {\n\tlet map = cache.get(obj);\n\tif (map === undefined) {\n\t\tmap = new Map();\n\t\tcache.set(obj, map);\n\t} else {\n\t\tconst cacheEntry = map.get(layer);\n\t\tif (cacheEntry !== undefined) return cacheEntry;\n\t}\n\tconst result = resolveByProperty(obj, \"byLayer\", layer);\n\tmap.set(layer, result);\n\treturn result;\n};\n\nclass ExternalModuleFactoryPlugin {\n\t/**\n\t * @param {string | undefined} type default external type\n\t * @param {Externals} externals externals config\n\t */\n\tconstructor(type, externals) {\n\t\tthis.type = type;\n\t\tthis.externals = externals;\n\t}\n\n\t/**\n\t * @param {NormalModuleFactory} normalModuleFactory the normal module factory\n\t * @returns {void}\n\t */\n\tapply(normalModuleFactory) {\n\t\tconst globalType = this.type;\n\t\tnormalModuleFactory.hooks.factorize.tapAsync(\n\t\t\t\"ExternalModuleFactoryPlugin\",\n\t\t\t(data, callback) => {\n\t\t\t\tconst context = data.context;\n\t\t\t\tconst contextInfo = data.contextInfo;\n\t\t\t\tconst dependency = data.dependencies[0];\n\t\t\t\tconst dependencyType = data.dependencyType;\n\n\t\t\t\t/**\n\t\t\t\t * @param {string|string[]|boolean|Record<string, string|string[]>} value the external config\n\t\t\t\t * @param {string|undefined} type type of external\n\t\t\t\t * @param {function((Error | null)=, ExternalModule=): void} callback callback\n\t\t\t\t * @returns {void}\n\t\t\t\t */\n\t\t\t\tconst handleExternal = (value, type, callback) => {\n\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t// Not externals, fallback to original factory\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t}\n\t\t\t\t\t/** @type {string | string[] | Record<string, string|string[]>} */\n\t\t\t\t\tlet externalConfig;\n\t\t\t\t\tif (value === true) {\n\t\t\t\t\t\texternalConfig = dependency.request;\n\t\t\t\t\t} else {\n\t\t\t\t\t\texternalConfig = value;\n\t\t\t\t\t}\n\t\t\t\t\t// When no explicit type is specified, extract it from the externalConfig\n\t\t\t\t\tif (type === undefined) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof externalConfig === \"string\" &&\n\t\t\t\t\t\t\tUNSPECIFIED_EXTERNAL_TYPE_REGEXP.test(externalConfig)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst idx = externalConfig.indexOf(\" \");\n\t\t\t\t\t\t\ttype = externalConfig.slice(0, idx);\n\t\t\t\t\t\t\texternalConfig = externalConfig.slice(idx + 1);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tArray.isArray(externalConfig) &&\n\t\t\t\t\t\t\texternalConfig.length > 0 &&\n\t\t\t\t\t\t\tUNSPECIFIED_EXTERNAL_TYPE_REGEXP.test(externalConfig[0])\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst firstItem = externalConfig[0];\n\t\t\t\t\t\t\tconst idx = firstItem.indexOf(\" \");\n\t\t\t\t\t\t\ttype = firstItem.slice(0, idx);\n\t\t\t\t\t\t\texternalConfig = [\n\t\t\t\t\t\t\t\tfirstItem.slice(idx + 1),\n\t\t\t\t\t\t\t\t...externalConfig.slice(1)\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO make it pluggable/add hooks to `ExternalModule` to allow output modules own externals?\n\t\t\t\t\t/** @type {DependencyMeta | undefined} */\n\t\t\t\t\tlet dependencyMeta;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tdependency instanceof HarmonyImportDependency ||\n\t\t\t\t\t\tdependency instanceof ImportDependency ||\n\t\t\t\t\t\tdependency instanceof ContextElementDependency\n\t\t\t\t\t) {\n\t\t\t\t\t\tdependencyMeta = {\n\t\t\t\t\t\t\tattributes: dependency.assertions\n\t\t\t\t\t\t};\n\t\t\t\t\t} else if (dependency instanceof CssImportDependency) {\n\t\t\t\t\t\tdependencyMeta = {\n\t\t\t\t\t\t\tlayer: dependency.layer,\n\t\t\t\t\t\t\tsupports: dependency.supports,\n\t\t\t\t\t\t\tmedia: dependency.media\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tnew ExternalModule(\n\t\t\t\t\t\t\texternalConfig,\n\t\t\t\t\t\t\ttype || globalType,\n\t\t\t\t\t\t\tdependency.request,\n\t\t\t\t\t\t\tdependencyMeta\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * @param {Externals} externals externals config\n\t\t\t\t * @param {function((Error | null)=, ExternalModule=): void} callback callback\n\t\t\t\t * @returns {void}\n\t\t\t\t */\n\t\t\t\tconst handleExternals = (externals, callback) => {\n\t\t\t\t\tif (typeof externals === \"string\") {\n\t\t\t\t\t\tif (externals === dependency.request) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, undefined, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Array.isArray(externals)) {\n\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\tconst next = () => {\n\t\t\t\t\t\t\t/** @type {boolean | undefined} */\n\t\t\t\t\t\t\tlet asyncFlag;\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {(Error | null)=} err err\n\t\t\t\t\t\t\t * @param {ExternalModule=} module module\n\t\t\t\t\t\t\t * @returns {void}\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tconst handleExternalsAndCallback = (err, module) => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tif (!module) {\n\t\t\t\t\t\t\t\t\tif (asyncFlag) {\n\t\t\t\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback(null, module);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tasyncFlag = true;\n\t\t\t\t\t\t\t\tif (i >= externals.length) return callback();\n\t\t\t\t\t\t\t\thandleExternals(externals[i++], handleExternalsAndCallback);\n\t\t\t\t\t\t\t} while (!asyncFlag);\n\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tnext();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (externals instanceof RegExp) {\n\t\t\t\t\t\tif (externals.test(dependency.request)) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, undefined, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof externals === \"function\") {\n\t\t\t\t\t\tconst cb = (err, value, type) => {\n\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\t\thandleExternal(value, type, callback);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (externals.length === 3) {\n\t\t\t\t\t\t\t// TODO webpack 6 remove this\n\t\t\t\t\t\t\tcallDeprecatedExternals(\n\t\t\t\t\t\t\t\texternals,\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\tdependency.request,\n\t\t\t\t\t\t\t\tcb\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst promise = externals(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\trequest: dependency.request,\n\t\t\t\t\t\t\t\t\tdependencyType,\n\t\t\t\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\t\t\t\tgetResolve: options => (context, request, callback) => {\n\t\t\t\t\t\t\t\t\t\tconst resolveContext = {\n\t\t\t\t\t\t\t\t\t\t\tfileDependencies: data.fileDependencies,\n\t\t\t\t\t\t\t\t\t\t\tmissingDependencies: data.missingDependencies,\n\t\t\t\t\t\t\t\t\t\t\tcontextDependencies: data.contextDependencies\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tlet resolver = normalModuleFactory.getResolver(\n\t\t\t\t\t\t\t\t\t\t\t\"normal\",\n\t\t\t\t\t\t\t\t\t\t\tdependencyType\n\t\t\t\t\t\t\t\t\t\t\t\t? cachedSetProperty(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.resolveOptions || EMPTY_RESOLVE_OPTIONS,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"dependencyType\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdependencyType\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t: data.resolveOptions\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tif (options) resolver = resolver.withOptions(options);\n\t\t\t\t\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\t\t\t\t\tresolver.resolve(\n\t\t\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\t\t\t\trequest,\n\t\t\t\t\t\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t\t\t\t\t\tcallback\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\t\t\t\t\t\t\tresolver.resolve(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t\t\t\t\t\trequest,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (err) reject(err);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse resolve(result);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcb\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (promise && promise.then) promise.then(r => cb(null, r), cb);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (typeof externals === \"object\") {\n\t\t\t\t\t\tconst resolvedExternals = resolveLayer(\n\t\t\t\t\t\t\texternals,\n\t\t\t\t\t\t\tcontextInfo.issuerLayer\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n\t\t\t\t\t\t\t\tresolvedExternals,\n\t\t\t\t\t\t\t\tdependency.request\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn handleExternal(\n\t\t\t\t\t\t\t\tresolvedExternals[dependency.request],\n\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\tcallback\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcallback();\n\t\t\t\t};\n\n\t\t\t\thandleExternals(this.externals, callback);\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = ExternalModuleFactoryPlugin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}