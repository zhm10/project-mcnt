{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst WebpackError = require(\"../WebpackError\");\nconst {\n  evaluateToString,\n  toConstantDependency\n} = require(\"../javascript/JavascriptParserHelpers\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst RequireIncludeDependency = require(\"./RequireIncludeDependency\");\n\n/** @typedef {import(\"../Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n\nmodule.exports = class RequireIncludeDependencyParserPlugin {\n  /**\n   * @param {boolean} warn true: warn about deprecation, false: don't warn\n   */\n  constructor(warn) {\n    this.warn = warn;\n  }\n\n  /**\n   * @param {JavascriptParser} parser the parser\n   * @returns {void}\n   */\n  apply(parser) {\n    const {\n      warn\n    } = this;\n    parser.hooks.call.for(\"require.include\").tap(\"RequireIncludeDependencyParserPlugin\", expr => {\n      if (expr.arguments.length !== 1) return;\n      const param = parser.evaluateExpression(expr.arguments[0]);\n      if (!param.isString()) return;\n      if (warn) {\n        parser.state.module.addWarning(new RequireIncludeDeprecationWarning( /** @type {DependencyLocation} */expr.loc));\n      }\n      const dep = new RequireIncludeDependency( /** @type {string} */param.string, /** @type {Range} */expr.range);\n      dep.loc = /** @type {DependencyLocation} */expr.loc;\n      parser.state.current.addDependency(dep);\n      return true;\n    });\n    parser.hooks.evaluateTypeof.for(\"require.include\").tap(\"RequireIncludePlugin\", expr => {\n      if (warn) {\n        parser.state.module.addWarning(new RequireIncludeDeprecationWarning( /** @type {DependencyLocation} */expr.loc));\n      }\n      return evaluateToString(\"function\")(expr);\n    });\n    parser.hooks.typeof.for(\"require.include\").tap(\"RequireIncludePlugin\", expr => {\n      if (warn) {\n        parser.state.module.addWarning(new RequireIncludeDeprecationWarning( /** @type {DependencyLocation} */expr.loc));\n      }\n      return toConstantDependency(parser, JSON.stringify(\"function\"))(expr);\n    });\n  }\n};\nclass RequireIncludeDeprecationWarning extends WebpackError {\n  /**\n   * @param {DependencyLocation} loc location\n   */\n  constructor(loc) {\n    super(\"require.include() is deprecated and will be removed soon.\");\n    this.name = \"RequireIncludeDeprecationWarning\";\n    this.loc = loc;\n  }\n}\nmakeSerializable(RequireIncludeDeprecationWarning, \"webpack/lib/dependencies/RequireIncludeDependencyParserPlugin\", \"RequireIncludeDeprecationWarning\");","map":{"version":3,"names":["WebpackError","require","evaluateToString","toConstantDependency","makeSerializable","RequireIncludeDependency","module","exports","RequireIncludeDependencyParserPlugin","constructor","warn","apply","parser","hooks","call","for","tap","expr","arguments","length","param","evaluateExpression","isString","state","addWarning","RequireIncludeDeprecationWarning","loc","dep","string","range","current","addDependency","evaluateTypeof","typeof","JSON","stringify","name"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/dependencies/RequireIncludeDependencyParserPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst WebpackError = require(\"../WebpackError\");\nconst {\n\tevaluateToString,\n\ttoConstantDependency\n} = require(\"../javascript/JavascriptParserHelpers\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst RequireIncludeDependency = require(\"./RequireIncludeDependency\");\n\n/** @typedef {import(\"../Dependency\").DependencyLocation} DependencyLocation */\n/** @typedef {import(\"../javascript/JavascriptParser\")} JavascriptParser */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n\nmodule.exports = class RequireIncludeDependencyParserPlugin {\n\t/**\n\t * @param {boolean} warn true: warn about deprecation, false: don't warn\n\t */\n\tconstructor(warn) {\n\t\tthis.warn = warn;\n\t}\n\n\t/**\n\t * @param {JavascriptParser} parser the parser\n\t * @returns {void}\n\t */\n\tapply(parser) {\n\t\tconst { warn } = this;\n\t\tparser.hooks.call\n\t\t\t.for(\"require.include\")\n\t\t\t.tap(\"RequireIncludeDependencyParserPlugin\", expr => {\n\t\t\t\tif (expr.arguments.length !== 1) return;\n\t\t\t\tconst param = parser.evaluateExpression(expr.arguments[0]);\n\t\t\t\tif (!param.isString()) return;\n\n\t\t\t\tif (warn) {\n\t\t\t\t\tparser.state.module.addWarning(\n\t\t\t\t\t\tnew RequireIncludeDeprecationWarning(\n\t\t\t\t\t\t\t/** @type {DependencyLocation} */ (expr.loc)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst dep = new RequireIncludeDependency(\n\t\t\t\t\t/** @type {string} */ (param.string),\n\t\t\t\t\t/** @type {Range} */ (expr.range)\n\t\t\t\t);\n\t\t\t\tdep.loc = /** @type {DependencyLocation} */ (expr.loc);\n\t\t\t\tparser.state.current.addDependency(dep);\n\t\t\t\treturn true;\n\t\t\t});\n\t\tparser.hooks.evaluateTypeof\n\t\t\t.for(\"require.include\")\n\t\t\t.tap(\"RequireIncludePlugin\", expr => {\n\t\t\t\tif (warn) {\n\t\t\t\t\tparser.state.module.addWarning(\n\t\t\t\t\t\tnew RequireIncludeDeprecationWarning(\n\t\t\t\t\t\t\t/** @type {DependencyLocation} */ (expr.loc)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn evaluateToString(\"function\")(expr);\n\t\t\t});\n\t\tparser.hooks.typeof\n\t\t\t.for(\"require.include\")\n\t\t\t.tap(\"RequireIncludePlugin\", expr => {\n\t\t\t\tif (warn) {\n\t\t\t\t\tparser.state.module.addWarning(\n\t\t\t\t\t\tnew RequireIncludeDeprecationWarning(\n\t\t\t\t\t\t\t/** @type {DependencyLocation} */ (expr.loc)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn toConstantDependency(parser, JSON.stringify(\"function\"))(expr);\n\t\t\t});\n\t}\n};\n\nclass RequireIncludeDeprecationWarning extends WebpackError {\n\t/**\n\t * @param {DependencyLocation} loc location\n\t */\n\tconstructor(loc) {\n\t\tsuper(\"require.include() is deprecated and will be removed soon.\");\n\n\t\tthis.name = \"RequireIncludeDeprecationWarning\";\n\n\t\tthis.loc = loc;\n\t}\n}\n\nmakeSerializable(\n\tRequireIncludeDeprecationWarning,\n\t\"webpack/lib/dependencies/RequireIncludeDependencyParserPlugin\",\n\t\"RequireIncludeDeprecationWarning\"\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}