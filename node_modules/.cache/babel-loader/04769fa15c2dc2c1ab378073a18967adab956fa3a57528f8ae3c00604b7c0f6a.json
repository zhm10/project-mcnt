{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\n/**\n * @template {any[]} T\n * @template V\n * @typedef {Map<object, WeakTupleMap<T, V>>} M\n */\n/**\n * @template {any[]} T\n * @template V\n * @typedef {WeakMap<object, WeakTupleMap<T, V>>} W\n */\n\n/**\n * @param {any} thing thing\n * @returns {boolean} true if is weak\n */\nconst isWeakKey = thing => typeof thing === \"object\" && thing !== null;\n\n/**\n * @template {any[]} T\n * @template V\n */\nclass WeakTupleMap {\n  constructor() {\n    /** @private */\n    this.f = 0;\n    /**\n     * @private\n     * @type {any}\n     **/\n    this.v = undefined;\n    /**\n     * @private\n     * @type {M<T, V> | undefined}\n     **/\n    this.m = undefined;\n    /**\n     * @private\n     * @type {W<T, V> | undefined}\n     **/\n    this.w = undefined;\n  }\n\n  /**\n   * @param {[...T, V]} args tuple\n   * @returns {void}\n   */\n  set(...args) {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n    for (let i = 0; i < args.length - 1; i++) {\n      node = node._get(args[i]);\n    }\n    node._setValue(args[args.length - 1]);\n  }\n\n  /**\n   * @param {T} args tuple\n   * @returns {boolean} true, if the tuple is in the Set\n   */\n  has(...args) {\n    /** @type {WeakTupleMap<T, V> | undefined} */\n    let node = this;\n    for (let i = 0; i < args.length; i++) {\n      node = node._peek(args[i]);\n      if (node === undefined) return false;\n    }\n    return node._hasValue();\n  }\n\n  /**\n   * @param {T} args tuple\n   * @returns {V | undefined} the value\n   */\n  get(...args) {\n    /** @type {WeakTupleMap<T, V> | undefined} */\n    let node = this;\n    for (let i = 0; i < args.length; i++) {\n      node = node._peek(args[i]);\n      if (node === undefined) return undefined;\n    }\n    return node._getValue();\n  }\n\n  /**\n   * @param {[...T, function(): V]} args tuple\n   * @returns {V} the value\n   */\n  provide(...args) {\n    /** @type {WeakTupleMap<T, V>} */\n    let node = this;\n    for (let i = 0; i < args.length - 1; i++) {\n      node = node._get(args[i]);\n    }\n    if (node._hasValue()) return node._getValue();\n    const fn = args[args.length - 1];\n    const newValue = fn(...args.slice(0, -1));\n    node._setValue(newValue);\n    return newValue;\n  }\n\n  /**\n   * @param {T} args tuple\n   * @returns {void}\n   */\n  delete(...args) {\n    /** @type {WeakTupleMap<T, V> | undefined} */\n    let node = this;\n    for (let i = 0; i < args.length; i++) {\n      node = node._peek(args[i]);\n      if (node === undefined) return;\n    }\n    node._deleteValue();\n  }\n\n  /**\n   * @returns {void}\n   */\n  clear() {\n    this.f = 0;\n    this.v = undefined;\n    this.w = undefined;\n    this.m = undefined;\n  }\n  _getValue() {\n    return this.v;\n  }\n  _hasValue() {\n    return (this.f & 1) === 1;\n  }\n\n  /**\n   * @param {any} v value\n   * @private\n   */\n  _setValue(v) {\n    this.f |= 1;\n    this.v = v;\n  }\n  _deleteValue() {\n    this.f &= 6;\n    this.v = undefined;\n  }\n\n  /**\n   * @param {any} thing thing\n   * @returns {WeakTupleMap<T, V> | undefined} thing\n   * @private\n   */\n  _peek(thing) {\n    if (isWeakKey(thing)) {\n      if ((this.f & 4) !== 4) return undefined;\n      return /** @type {W<T, V>} */this.w.get(thing);\n    } else {\n      if ((this.f & 2) !== 2) return undefined;\n      return /** @type {M<T, V>} */this.m.get(thing);\n    }\n  }\n\n  /**\n   * @private\n   * @param {any} thing thing\n   * @returns {WeakTupleMap<T, V>} value\n   */\n  _get(thing) {\n    if (isWeakKey(thing)) {\n      if ((this.f & 4) !== 4) {\n        const newMap = new WeakMap();\n        this.f |= 4;\n        const newNode = new WeakTupleMap();\n        (this.w = newMap).set(thing, newNode);\n        return newNode;\n      }\n      const entry = /** @type {W<T, V>} */\n      this.w.get(thing);\n      if (entry !== undefined) {\n        return entry;\n      }\n      const newNode = new WeakTupleMap();\n      /** @type {W<T, V>} */\n      this.w.set(thing, newNode);\n      return newNode;\n    } else {\n      if ((this.f & 2) !== 2) {\n        const newMap = new Map();\n        this.f |= 2;\n        const newNode = new WeakTupleMap();\n        (this.m = newMap).set(thing, newNode);\n        return newNode;\n      }\n      const entry = /** @type {M<T, V>} */\n      this.m.get(thing);\n      if (entry !== undefined) {\n        return entry;\n      }\n      const newNode = new WeakTupleMap();\n      /** @type {M<T, V>} */\n      this.m.set(thing, newNode);\n      return newNode;\n    }\n  }\n}\nmodule.exports = WeakTupleMap;","map":{"version":3,"names":["isWeakKey","thing","WeakTupleMap","constructor","f","v","undefined","m","w","set","args","node","i","length","_get","_setValue","has","_peek","_hasValue","get","_getValue","provide","fn","newValue","slice","delete","_deleteValue","clear","newMap","WeakMap","newNode","entry","Map","module","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/util/WeakTupleMap.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\n/**\n * @template {any[]} T\n * @template V\n * @typedef {Map<object, WeakTupleMap<T, V>>} M\n */\n/**\n * @template {any[]} T\n * @template V\n * @typedef {WeakMap<object, WeakTupleMap<T, V>>} W\n */\n\n/**\n * @param {any} thing thing\n * @returns {boolean} true if is weak\n */\nconst isWeakKey = thing => typeof thing === \"object\" && thing !== null;\n\n/**\n * @template {any[]} T\n * @template V\n */\nclass WeakTupleMap {\n\tconstructor() {\n\t\t/** @private */\n\t\tthis.f = 0;\n\t\t/**\n\t\t * @private\n\t\t * @type {any}\n\t\t **/\n\t\tthis.v = undefined;\n\t\t/**\n\t\t * @private\n\t\t * @type {M<T, V> | undefined}\n\t\t **/\n\t\tthis.m = undefined;\n\t\t/**\n\t\t * @private\n\t\t * @type {W<T, V> | undefined}\n\t\t **/\n\t\tthis.w = undefined;\n\t}\n\n\t/**\n\t * @param {[...T, V]} args tuple\n\t * @returns {void}\n\t */\n\tset(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length - 1; i++) {\n\t\t\tnode = node._get(args[i]);\n\t\t}\n\t\tnode._setValue(args[args.length - 1]);\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {boolean} true, if the tuple is in the Set\n\t */\n\thas(...args) {\n\t\t/** @type {WeakTupleMap<T, V> | undefined} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return false;\n\t\t}\n\t\treturn node._hasValue();\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {V | undefined} the value\n\t */\n\tget(...args) {\n\t\t/** @type {WeakTupleMap<T, V> | undefined} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return undefined;\n\t\t}\n\t\treturn node._getValue();\n\t}\n\n\t/**\n\t * @param {[...T, function(): V]} args tuple\n\t * @returns {V} the value\n\t */\n\tprovide(...args) {\n\t\t/** @type {WeakTupleMap<T, V>} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length - 1; i++) {\n\t\t\tnode = node._get(args[i]);\n\t\t}\n\t\tif (node._hasValue()) return node._getValue();\n\t\tconst fn = args[args.length - 1];\n\t\tconst newValue = fn(...args.slice(0, -1));\n\t\tnode._setValue(newValue);\n\t\treturn newValue;\n\t}\n\n\t/**\n\t * @param {T} args tuple\n\t * @returns {void}\n\t */\n\tdelete(...args) {\n\t\t/** @type {WeakTupleMap<T, V> | undefined} */\n\t\tlet node = this;\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\tnode = node._peek(args[i]);\n\t\t\tif (node === undefined) return;\n\t\t}\n\t\tnode._deleteValue();\n\t}\n\n\t/**\n\t * @returns {void}\n\t */\n\tclear() {\n\t\tthis.f = 0;\n\t\tthis.v = undefined;\n\t\tthis.w = undefined;\n\t\tthis.m = undefined;\n\t}\n\n\t_getValue() {\n\t\treturn this.v;\n\t}\n\n\t_hasValue() {\n\t\treturn (this.f & 1) === 1;\n\t}\n\n\t/**\n\t * @param {any} v value\n\t * @private\n\t */\n\t_setValue(v) {\n\t\tthis.f |= 1;\n\t\tthis.v = v;\n\t}\n\n\t_deleteValue() {\n\t\tthis.f &= 6;\n\t\tthis.v = undefined;\n\t}\n\n\t/**\n\t * @param {any} thing thing\n\t * @returns {WeakTupleMap<T, V> | undefined} thing\n\t * @private\n\t */\n\t_peek(thing) {\n\t\tif (isWeakKey(thing)) {\n\t\t\tif ((this.f & 4) !== 4) return undefined;\n\t\t\treturn /** @type {W<T, V>} */ (this.w).get(thing);\n\t\t} else {\n\t\t\tif ((this.f & 2) !== 2) return undefined;\n\t\t\treturn /** @type {M<T, V>} */ (this.m).get(thing);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {any} thing thing\n\t * @returns {WeakTupleMap<T, V>} value\n\t */\n\t_get(thing) {\n\t\tif (isWeakKey(thing)) {\n\t\t\tif ((this.f & 4) !== 4) {\n\t\t\t\tconst newMap = new WeakMap();\n\t\t\t\tthis.f |= 4;\n\t\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t\t(this.w = newMap).set(thing, newNode);\n\t\t\t\treturn newNode;\n\t\t\t}\n\t\t\tconst entry =\n\t\t\t\t/** @type {W<T, V>} */\n\t\t\t\t(this.w).get(thing);\n\t\t\tif (entry !== undefined) {\n\t\t\t\treturn entry;\n\t\t\t}\n\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t/** @type {W<T, V>} */\n\t\t\t(this.w).set(thing, newNode);\n\t\t\treturn newNode;\n\t\t} else {\n\t\t\tif ((this.f & 2) !== 2) {\n\t\t\t\tconst newMap = new Map();\n\t\t\t\tthis.f |= 2;\n\t\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t\t(this.m = newMap).set(thing, newNode);\n\t\t\t\treturn newNode;\n\t\t\t}\n\t\t\tconst entry =\n\t\t\t\t/** @type {M<T, V>} */\n\t\t\t\t(this.m).get(thing);\n\t\t\tif (entry !== undefined) {\n\t\t\t\treturn entry;\n\t\t\t}\n\t\t\tconst newNode = new WeakTupleMap();\n\t\t\t/** @type {M<T, V>} */\n\t\t\t(this.m).set(thing, newNode);\n\t\t\treturn newNode;\n\t\t}\n\t}\n}\n\nmodule.exports = WeakTupleMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}