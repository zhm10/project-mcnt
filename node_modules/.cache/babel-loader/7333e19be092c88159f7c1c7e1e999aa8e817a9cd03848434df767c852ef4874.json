{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst ModuleDependencyWarning = require(\"../ModuleDependencyWarning\");\nconst {\n  CSS_MODULE_TYPE_AUTO\n} = require(\"../ModuleTypeConstants\");\nconst Parser = require(\"../Parser\");\nconst WebpackError = require(\"../WebpackError\");\nconst ConstDependency = require(\"../dependencies/ConstDependency\");\nconst CssExportDependency = require(\"../dependencies/CssExportDependency\");\nconst CssImportDependency = require(\"../dependencies/CssImportDependency\");\nconst CssLocalIdentifierDependency = require(\"../dependencies/CssLocalIdentifierDependency\");\nconst CssSelfLocalIdentifierDependency = require(\"../dependencies/CssSelfLocalIdentifierDependency\");\nconst CssUrlDependency = require(\"../dependencies/CssUrlDependency\");\nconst StaticExportsDependency = require(\"../dependencies/StaticExportsDependency\");\nconst {\n  parseResource\n} = require(\"../util/identifier\");\nconst walkCssTokens = require(\"./walkCssTokens\");\n\n/** @typedef {import(\"../Parser\").ParserState} ParserState */\n/** @typedef {import(\"../Parser\").PreparsedAst} PreparsedAst */\n/** @typedef {[number, number]} Range */\n\nconst CC_LEFT_CURLY = \"{\".charCodeAt(0);\nconst CC_RIGHT_CURLY = \"}\".charCodeAt(0);\nconst CC_COLON = \":\".charCodeAt(0);\nconst CC_SLASH = \"/\".charCodeAt(0);\nconst CC_SEMICOLON = \";\".charCodeAt(0);\n\n// https://www.w3.org/TR/css-syntax-3/#newline\n// We don't have `preprocessing` stage, so we need specify all of them\nconst STRING_MULTILINE = /\\\\[\\n\\r\\f]/g;\n// https://www.w3.org/TR/css-syntax-3/#whitespace\nconst TRIM_WHITE_SPACES = /(^[ \\t\\n\\r\\f]*|[ \\t\\n\\r\\f]*$)/g;\nconst UNESCAPE = /\\\\([0-9a-fA-F]{1,6}[ \\t\\n\\r\\f]?|[\\s\\S])/g;\nconst IMAGE_SET_FUNCTION = /^(-\\w+-)?image-set$/i;\nconst OPTIONALLY_VENDOR_PREFIXED_KEYFRAMES_AT_RULE = /^@(-\\w+-)?keyframes$/;\nconst OPTIONALLY_VENDOR_PREFIXED_ANIMATION_PROPERTY = /^(-\\w+-)?animation(-name)?$/i;\nconst IS_MODULES = /\\.module(s)?\\.[^.]+$/i;\n\n/**\n * @param {string} str url string\n * @param {boolean} isString is url wrapped in quotes\n * @returns {string} normalized url\n */\nconst normalizeUrl = (str, isString) => {\n  // Remove extra spaces and newlines:\n  // `url(\"im\\\n  // g.png\")`\n  if (isString) {\n    str = str.replace(STRING_MULTILINE, \"\");\n  }\n  str = str\n  // Remove unnecessary spaces from `url(\"   img.png\t \")`\n  .replace(TRIM_WHITE_SPACES, \"\")\n  // Unescape\n  .replace(UNESCAPE, match => {\n    if (match.length > 2) {\n      return String.fromCharCode(parseInt(match.slice(1).trim(), 16));\n    } else {\n      return match[1];\n    }\n  });\n  if (/^data:/i.test(str)) {\n    return str;\n  }\n  if (str.includes(\"%\")) {\n    // Convert `url('%2E/img.png')` -> `url('./img.png')`\n    try {\n      str = decodeURIComponent(str);\n    } catch (error) {\n      // Ignore\n    }\n  }\n  return str;\n};\nclass LocConverter {\n  /**\n   * @param {string} input input\n   */\n  constructor(input) {\n    this._input = input;\n    this.line = 1;\n    this.column = 0;\n    this.pos = 0;\n  }\n\n  /**\n   * @param {number} pos position\n   * @returns {LocConverter} location converter\n   */\n  get(pos) {\n    if (this.pos !== pos) {\n      if (this.pos < pos) {\n        const str = this._input.slice(this.pos, pos);\n        let i = str.lastIndexOf(\"\\n\");\n        if (i === -1) {\n          this.column += str.length;\n        } else {\n          this.column = str.length - i - 1;\n          this.line++;\n          while (i > 0 && (i = str.lastIndexOf(\"\\n\", i - 1)) !== -1) this.line++;\n        }\n      } else {\n        let i = this._input.lastIndexOf(\"\\n\", this.pos);\n        while (i >= pos) {\n          this.line--;\n          i = i > 0 ? this._input.lastIndexOf(\"\\n\", i - 1) : -1;\n        }\n        this.column = pos - i;\n      }\n      this.pos = pos;\n    }\n    return this;\n  }\n}\nconst CSS_MODE_TOP_LEVEL = 0;\nconst CSS_MODE_IN_BLOCK = 1;\nconst CSS_MODE_IN_AT_IMPORT = 2;\nconst CSS_MODE_AT_IMPORT_INVALID = 3;\nconst CSS_MODE_AT_NAMESPACE_INVALID = 4;\nclass CssParser extends Parser {\n  constructor({\n    allowModeSwitch = true,\n    defaultMode = \"global\",\n    namedExports = true\n  } = {}) {\n    super();\n    this.allowModeSwitch = allowModeSwitch;\n    this.defaultMode = defaultMode;\n    this.namedExports = namedExports;\n  }\n\n  /**\n   * @param {ParserState} state parser state\n   * @param {string} message warning message\n   * @param {LocConverter} locConverter location converter\n   * @param {number} start start offset\n   * @param {number} end end offset\n   */\n  _emitWarning(state, message, locConverter, start, end) {\n    const {\n      line: sl,\n      column: sc\n    } = locConverter.get(start);\n    const {\n      line: el,\n      column: ec\n    } = locConverter.get(end);\n    state.current.addWarning(new ModuleDependencyWarning(state.module, new WebpackError(message), {\n      start: {\n        line: sl,\n        column: sc\n      },\n      end: {\n        line: el,\n        column: ec\n      }\n    }));\n  }\n\n  /**\n   * @param {string | Buffer | PreparsedAst} source the source to parse\n   * @param {ParserState} state the parser state\n   * @returns {ParserState} the parser state\n   */\n  parse(source, state) {\n    if (Buffer.isBuffer(source)) {\n      source = source.toString(\"utf-8\");\n    } else if (typeof source === \"object\") {\n      throw new Error(\"webpackAst is unexpected for the CssParser\");\n    }\n    if (source[0] === \"\\ufeff\") {\n      source = source.slice(1);\n    }\n    const module = state.module;\n\n    /** @type {string | undefined} */\n    let oldDefaultMode;\n    if (module.type === CSS_MODULE_TYPE_AUTO && IS_MODULES.test(parseResource(module.matchResource || module.resource).path)) {\n      oldDefaultMode = this.defaultMode;\n      this.defaultMode = \"local\";\n    }\n    const locConverter = new LocConverter(source);\n    /** @type {Set<string>}*/\n    const declaredCssVariables = new Set();\n    /** @type {number} */\n    let scope = CSS_MODE_TOP_LEVEL;\n    /** @type {number} */\n    let blockNestingLevel = 0;\n    /** @type {boolean} */\n    let allowImportAtRule = true;\n    /** @type {\"local\" | \"global\" | undefined} */\n    let modeData = undefined;\n    /** @type {[number, number] | undefined} */\n    let lastIdentifier = undefined;\n    /** @type [string, number, number][] */\n    let balanced = [];\n    /** @type {undefined | { start: number, url?: string, urlStart?: number, urlEnd?: number, layer?: string, layerStart?: number, layerEnd?: number, supports?: string, supportsStart?: number, supportsEnd?: number, inSupports?:boolean, media?: string  }} */\n    let importData = undefined;\n    /** @type {boolean} */\n    let inAnimationProperty = false;\n    /** @type {boolean} */\n    let isNextRulePrelude = true;\n\n    /**\n     * @param {string} input input\n     * @param {number} pos position\n     * @returns {boolean} true, when next is nested syntax\n     */\n    const isNextNestedSyntax = (input, pos) => {\n      pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n      if (input[pos] === \"}\") {\n        return false;\n      }\n\n      // According spec only identifier can be used as a property name\n      const isIdentifier = walkCssTokens.isIdentStartCodePoint(input.charCodeAt(pos));\n      return !isIdentifier;\n    };\n    /**\n     * @returns {boolean} true, when in local scope\n     */\n    const isLocalMode = () => modeData === \"local\" || this.defaultMode === \"local\" && modeData === undefined;\n    /**\n     * @param {string} chars characters\n     * @returns {(input: string, pos: number) => number} function to eat characters\n     */\n    const eatUntil = chars => {\n      const charCodes = Array.from({\n        length: chars.length\n      }, (_, i) => chars.charCodeAt(i));\n      const arr = Array.from({\n        length: charCodes.reduce((a, b) => Math.max(a, b), 0) + 1\n      }, () => false);\n      charCodes.forEach(cc => arr[cc] = true);\n      return (input, pos) => {\n        for (;;) {\n          const cc = input.charCodeAt(pos);\n          if (cc < arr.length && arr[cc]) {\n            return pos;\n          }\n          pos++;\n          if (pos === input.length) return pos;\n        }\n      };\n    };\n    /**\n     * @param {string} input input\n     * @param {number} pos start position\n     * @param {(input: string, pos: number) => number} eater eater\n     * @returns {[number,string]} new position and text\n     */\n    const eatText = (input, pos, eater) => {\n      let text = \"\";\n      for (;;) {\n        if (input.charCodeAt(pos) === CC_SLASH) {\n          const newPos = walkCssTokens.eatComments(input, pos);\n          if (pos !== newPos) {\n            pos = newPos;\n            if (pos === input.length) break;\n          } else {\n            text += \"/\";\n            pos++;\n            if (pos === input.length) break;\n          }\n        }\n        const newPos = eater(input, pos);\n        if (pos !== newPos) {\n          text += input.slice(pos, newPos);\n          pos = newPos;\n        } else {\n          break;\n        }\n        if (pos === input.length) break;\n      }\n      return [pos, text.trimEnd()];\n    };\n    const eatExportName = eatUntil(\":};/\");\n    const eatExportValue = eatUntil(\"};/\");\n    /**\n     * @param {string} input input\n     * @param {number} pos start position\n     * @returns {number} position after parse\n     */\n    const parseExports = (input, pos) => {\n      pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n      const cc = input.charCodeAt(pos);\n      if (cc !== CC_LEFT_CURLY) {\n        this._emitWarning(state, `Unexpected '${input[pos]}' at ${pos} during parsing of ':export' (expected '{')`, locConverter, pos, pos);\n        return pos;\n      }\n      pos++;\n      pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n      for (;;) {\n        if (input.charCodeAt(pos) === CC_RIGHT_CURLY) break;\n        pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n        if (pos === input.length) return pos;\n        let start = pos;\n        let name;\n        [pos, name] = eatText(input, pos, eatExportName);\n        if (pos === input.length) return pos;\n        if (input.charCodeAt(pos) !== CC_COLON) {\n          this._emitWarning(state, `Unexpected '${input[pos]}' at ${pos} during parsing of export name in ':export' (expected ':')`, locConverter, start, pos);\n          return pos;\n        }\n        pos++;\n        if (pos === input.length) return pos;\n        pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n        if (pos === input.length) return pos;\n        let value;\n        [pos, value] = eatText(input, pos, eatExportValue);\n        if (pos === input.length) return pos;\n        const cc = input.charCodeAt(pos);\n        if (cc === CC_SEMICOLON) {\n          pos++;\n          if (pos === input.length) return pos;\n          pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n          if (pos === input.length) return pos;\n        } else if (cc !== CC_RIGHT_CURLY) {\n          this._emitWarning(state, `Unexpected '${input[pos]}' at ${pos} during parsing of export value in ':export' (expected ';' or '}')`, locConverter, start, pos);\n          return pos;\n        }\n        const dep = new CssExportDependency(name, value);\n        const {\n          line: sl,\n          column: sc\n        } = locConverter.get(start);\n        const {\n          line: el,\n          column: ec\n        } = locConverter.get(pos);\n        dep.setLoc(sl, sc, el, ec);\n        module.addDependency(dep);\n      }\n      pos++;\n      if (pos === input.length) return pos;\n      pos = walkCssTokens.eatWhiteLine(input, pos);\n      return pos;\n    };\n    const eatPropertyName = eatUntil(\":{};\");\n    /**\n     * @param {string} input input\n     * @param {number} pos name start position\n     * @param {number} end name end position\n     * @returns {number} position after handling\n     */\n    const processLocalDeclaration = (input, pos, end) => {\n      modeData = undefined;\n      pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n      const propertyNameStart = pos;\n      const [propertyNameEnd, propertyName] = eatText(input, pos, eatPropertyName);\n      if (input.charCodeAt(propertyNameEnd) !== CC_COLON) return end;\n      pos = propertyNameEnd + 1;\n      if (propertyName.startsWith(\"--\")) {\n        // CSS Variable\n        const {\n          line: sl,\n          column: sc\n        } = locConverter.get(propertyNameStart);\n        const {\n          line: el,\n          column: ec\n        } = locConverter.get(propertyNameEnd);\n        const name = propertyName.slice(2);\n        const dep = new CssLocalIdentifierDependency(name, [propertyNameStart, propertyNameEnd], \"--\");\n        dep.setLoc(sl, sc, el, ec);\n        module.addDependency(dep);\n        declaredCssVariables.add(name);\n      } else if (!propertyName.startsWith(\"--\") && OPTIONALLY_VENDOR_PREFIXED_ANIMATION_PROPERTY.test(propertyName)) {\n        inAnimationProperty = true;\n      }\n      return pos;\n    };\n    /**\n     * @param {string} input input\n     */\n    const processDeclarationValueDone = input => {\n      if (inAnimationProperty && lastIdentifier) {\n        const {\n          line: sl,\n          column: sc\n        } = locConverter.get(lastIdentifier[0]);\n        const {\n          line: el,\n          column: ec\n        } = locConverter.get(lastIdentifier[1]);\n        const name = input.slice(lastIdentifier[0], lastIdentifier[1]);\n        const dep = new CssSelfLocalIdentifierDependency(name, lastIdentifier);\n        dep.setLoc(sl, sc, el, ec);\n        module.addDependency(dep);\n        lastIdentifier = undefined;\n      }\n    };\n    const eatKeyframes = eatUntil(\"{};/\");\n    const eatNameInVar = eatUntil(\",)};/\");\n    walkCssTokens(source, {\n      isSelector: () => {\n        return isNextRulePrelude;\n      },\n      url: (input, start, end, contentStart, contentEnd) => {\n        let value = normalizeUrl(input.slice(contentStart, contentEnd), false);\n        switch (scope) {\n          case CSS_MODE_IN_AT_IMPORT:\n            {\n              // Do not parse URLs in `supports(...)`\n              if (importData.inSupports) {\n                break;\n              }\n              if (importData.url) {\n                this._emitWarning(state, `Duplicate of 'url(...)' in '${input.slice(importData.start, end)}'`, locConverter, start, end);\n                break;\n              }\n              importData.url = value;\n              importData.urlStart = start;\n              importData.urlEnd = end;\n              break;\n            }\n          // Do not parse URLs in import between rules\n          case CSS_MODE_AT_NAMESPACE_INVALID:\n          case CSS_MODE_AT_IMPORT_INVALID:\n            {\n              break;\n            }\n          case CSS_MODE_IN_BLOCK:\n            {\n              // Ignore `url()`, `url('')` and `url(\"\")`, they are valid by spec\n              if (value.length === 0) {\n                break;\n              }\n              const dep = new CssUrlDependency(value, [start, end], \"url\");\n              const {\n                line: sl,\n                column: sc\n              } = locConverter.get(start);\n              const {\n                line: el,\n                column: ec\n              } = locConverter.get(end);\n              dep.setLoc(sl, sc, el, ec);\n              module.addDependency(dep);\n              module.addCodeGenerationDependency(dep);\n              break;\n            }\n        }\n        return end;\n      },\n      string: (input, start, end) => {\n        switch (scope) {\n          case CSS_MODE_IN_AT_IMPORT:\n            {\n              const insideURLFunction = balanced[balanced.length - 1] && balanced[balanced.length - 1][0] === \"url\";\n\n              // Do not parse URLs in `supports(...)` and other strings if we already have a URL\n              if (importData.inSupports || !insideURLFunction && importData.url) {\n                break;\n              }\n              if (insideURLFunction && importData.url) {\n                this._emitWarning(state, `Duplicate of 'url(...)' in '${input.slice(importData.start, end)}'`, locConverter, start, end);\n                break;\n              }\n              importData.url = normalizeUrl(input.slice(start + 1, end - 1), true);\n              if (!insideURLFunction) {\n                importData.urlStart = start;\n                importData.urlEnd = end;\n              }\n              break;\n            }\n          case CSS_MODE_IN_BLOCK:\n            {\n              // TODO move escaped parsing to tokenizer\n              const last = balanced[balanced.length - 1];\n              if (last && (last[0].replace(/\\\\/g, \"\").toLowerCase() === \"url\" || IMAGE_SET_FUNCTION.test(last[0].replace(/\\\\/g, \"\")))) {\n                let value = normalizeUrl(input.slice(start + 1, end - 1), true);\n\n                // Ignore `url()`, `url('')` and `url(\"\")`, they are valid by spec\n                if (value.length === 0) {\n                  break;\n                }\n                const isUrl = last[0].replace(/\\\\/g, \"\").toLowerCase() === \"url\";\n                const dep = new CssUrlDependency(value, [start, end], isUrl ? \"string\" : \"url\");\n                const {\n                  line: sl,\n                  column: sc\n                } = locConverter.get(start);\n                const {\n                  line: el,\n                  column: ec\n                } = locConverter.get(end);\n                dep.setLoc(sl, sc, el, ec);\n                module.addDependency(dep);\n                module.addCodeGenerationDependency(dep);\n              }\n            }\n        }\n        return end;\n      },\n      atKeyword: (input, start, end) => {\n        const name = input.slice(start, end).toLowerCase();\n        if (name === \"@namespace\") {\n          scope = CSS_MODE_AT_NAMESPACE_INVALID;\n          this._emitWarning(state, \"'@namespace' is not supported in bundled CSS\", locConverter, start, end);\n          return end;\n        } else if (name === \"@import\") {\n          if (!allowImportAtRule) {\n            scope = CSS_MODE_AT_IMPORT_INVALID;\n            this._emitWarning(state, \"Any '@import' rules must precede all other rules\", locConverter, start, end);\n            return end;\n          }\n          scope = CSS_MODE_IN_AT_IMPORT;\n          importData = {\n            start\n          };\n        } else if (this.allowModeSwitch && OPTIONALLY_VENDOR_PREFIXED_KEYFRAMES_AT_RULE.test(name)) {\n          let pos = end;\n          pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n          if (pos === input.length) return pos;\n          const [newPos, name] = eatText(input, pos, eatKeyframes);\n          if (newPos === input.length) return newPos;\n          if (input.charCodeAt(newPos) !== CC_LEFT_CURLY) {\n            this._emitWarning(state, `Unexpected '${input[newPos]}' at ${newPos} during parsing of @keyframes (expected '{')`, locConverter, start, end);\n            return newPos;\n          }\n          const {\n            line: sl,\n            column: sc\n          } = locConverter.get(pos);\n          const {\n            line: el,\n            column: ec\n          } = locConverter.get(newPos);\n          const dep = new CssLocalIdentifierDependency(name, [pos, newPos]);\n          dep.setLoc(sl, sc, el, ec);\n          module.addDependency(dep);\n          pos = newPos;\n          return pos + 1;\n        } else if (this.allowModeSwitch && name === \"@property\") {\n          let pos = end;\n          pos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n          if (pos === input.length) return pos;\n          const propertyNameStart = pos;\n          const [propertyNameEnd, propertyName] = eatText(input, pos, eatKeyframes);\n          if (propertyNameEnd === input.length) return propertyNameEnd;\n          if (!propertyName.startsWith(\"--\")) return propertyNameEnd;\n          if (input.charCodeAt(propertyNameEnd) !== CC_LEFT_CURLY) {\n            this._emitWarning(state, `Unexpected '${input[propertyNameEnd]}' at ${propertyNameEnd} during parsing of @property (expected '{')`, locConverter, start, end);\n            return propertyNameEnd;\n          }\n          const {\n            line: sl,\n            column: sc\n          } = locConverter.get(pos);\n          const {\n            line: el,\n            column: ec\n          } = locConverter.get(propertyNameEnd);\n          const name = propertyName.slice(2);\n          const dep = new CssLocalIdentifierDependency(name, [propertyNameStart, propertyNameEnd], \"--\");\n          dep.setLoc(sl, sc, el, ec);\n          module.addDependency(dep);\n          declaredCssVariables.add(name);\n          pos = propertyNameEnd;\n          return pos + 1;\n        } else if (name === \"@media\" || name === \"@supports\" || name === \"@layer\" || name === \"@container\") {\n          modeData = isLocalMode() ? \"local\" : \"global\";\n          isNextRulePrelude = true;\n          return end;\n        } else if (this.allowModeSwitch) {\n          modeData = \"global\";\n          isNextRulePrelude = false;\n        }\n        return end;\n      },\n      semicolon: (input, start, end) => {\n        switch (scope) {\n          case CSS_MODE_IN_AT_IMPORT:\n            {\n              const {\n                start\n              } = importData;\n              if (importData.url === undefined) {\n                this._emitWarning(state, `Expected URL in '${input.slice(start, end)}'`, locConverter, start, end);\n                importData = undefined;\n                scope = CSS_MODE_TOP_LEVEL;\n                return end;\n              }\n              if (importData.urlStart > importData.layerStart || importData.urlStart > importData.supportsStart) {\n                this._emitWarning(state, `An URL in '${input.slice(start, end)}' should be before 'layer(...)' or 'supports(...)'`, locConverter, start, end);\n                importData = undefined;\n                scope = CSS_MODE_TOP_LEVEL;\n                return end;\n              }\n              if (importData.layerStart > importData.supportsStart) {\n                this._emitWarning(state, `The 'layer(...)' in '${input.slice(start, end)}' should be before 'supports(...)'`, locConverter, start, end);\n                importData = undefined;\n                scope = CSS_MODE_TOP_LEVEL;\n                return end;\n              }\n              const semicolonPos = end;\n              end = walkCssTokens.eatWhiteLine(input, end + 1);\n              const {\n                line: sl,\n                column: sc\n              } = locConverter.get(start);\n              const {\n                line: el,\n                column: ec\n              } = locConverter.get(end);\n              const lastEnd = importData.supportsEnd || importData.layerEnd || importData.urlEnd || start;\n              const pos = walkCssTokens.eatWhitespaceAndComments(input, lastEnd);\n              // Prevent to consider comments as a part of media query\n              if (pos !== semicolonPos - 1) {\n                importData.media = input.slice(lastEnd, semicolonPos - 1).trim();\n              }\n              const url = importData.url.trim();\n              if (url.length === 0) {\n                const dep = new ConstDependency(\"\", [start, end]);\n                module.addPresentationalDependency(dep);\n                dep.setLoc(sl, sc, el, ec);\n              } else {\n                const dep = new CssImportDependency(url, [start, end], importData.layer, importData.supports, importData.media && importData.media.length > 0 ? importData.media : undefined);\n                dep.setLoc(sl, sc, el, ec);\n                module.addDependency(dep);\n              }\n              importData = undefined;\n              scope = CSS_MODE_TOP_LEVEL;\n              break;\n            }\n          case CSS_MODE_AT_IMPORT_INVALID:\n          case CSS_MODE_AT_NAMESPACE_INVALID:\n            {\n              scope = CSS_MODE_TOP_LEVEL;\n              break;\n            }\n          case CSS_MODE_IN_BLOCK:\n            {\n              if (this.allowModeSwitch) {\n                processDeclarationValueDone(input);\n                inAnimationProperty = false;\n                isNextRulePrelude = isNextNestedSyntax(input, end);\n              }\n              break;\n            }\n        }\n        return end;\n      },\n      leftCurlyBracket: (input, start, end) => {\n        switch (scope) {\n          case CSS_MODE_TOP_LEVEL:\n            {\n              allowImportAtRule = false;\n              scope = CSS_MODE_IN_BLOCK;\n              blockNestingLevel = 1;\n              if (this.allowModeSwitch) {\n                isNextRulePrelude = isNextNestedSyntax(input, end);\n              }\n              break;\n            }\n          case CSS_MODE_IN_BLOCK:\n            {\n              blockNestingLevel++;\n              if (this.allowModeSwitch) {\n                isNextRulePrelude = isNextNestedSyntax(input, end);\n              }\n              break;\n            }\n        }\n        return end;\n      },\n      rightCurlyBracket: (input, start, end) => {\n        switch (scope) {\n          case CSS_MODE_IN_BLOCK:\n            {\n              if (isLocalMode()) {\n                processDeclarationValueDone(input);\n                inAnimationProperty = false;\n              }\n              if (--blockNestingLevel === 0) {\n                scope = CSS_MODE_TOP_LEVEL;\n                if (this.allowModeSwitch) {\n                  isNextRulePrelude = true;\n                  modeData = undefined;\n                }\n              } else if (this.allowModeSwitch) {\n                isNextRulePrelude = isNextNestedSyntax(input, end);\n              }\n              break;\n            }\n        }\n        return end;\n      },\n      identifier: (input, start, end) => {\n        switch (scope) {\n          case CSS_MODE_IN_BLOCK:\n            {\n              if (isLocalMode()) {\n                // Handle only top level values and not inside functions\n                if (inAnimationProperty && balanced.length === 0) {\n                  lastIdentifier = [start, end];\n                } else {\n                  return processLocalDeclaration(input, start, end);\n                }\n              }\n              break;\n            }\n          case CSS_MODE_IN_AT_IMPORT:\n            {\n              if (input.slice(start, end).toLowerCase() === \"layer\") {\n                importData.layer = \"\";\n                importData.layerStart = start;\n                importData.layerEnd = end;\n              }\n              break;\n            }\n        }\n        return end;\n      },\n      class: (input, start, end) => {\n        if (isLocalMode()) {\n          const name = input.slice(start + 1, end);\n          const dep = new CssLocalIdentifierDependency(name, [start + 1, end]);\n          const {\n            line: sl,\n            column: sc\n          } = locConverter.get(start);\n          const {\n            line: el,\n            column: ec\n          } = locConverter.get(end);\n          dep.setLoc(sl, sc, el, ec);\n          module.addDependency(dep);\n        }\n        return end;\n      },\n      id: (input, start, end) => {\n        if (isLocalMode()) {\n          const name = input.slice(start + 1, end);\n          const dep = new CssLocalIdentifierDependency(name, [start + 1, end]);\n          const {\n            line: sl,\n            column: sc\n          } = locConverter.get(start);\n          const {\n            line: el,\n            column: ec\n          } = locConverter.get(end);\n          dep.setLoc(sl, sc, el, ec);\n          module.addDependency(dep);\n        }\n        return end;\n      },\n      function: (input, start, end) => {\n        let name = input.slice(start, end - 1);\n        balanced.push([name, start, end]);\n        if (scope === CSS_MODE_IN_AT_IMPORT && name.toLowerCase() === \"supports\") {\n          importData.inSupports = true;\n        }\n        if (isLocalMode()) {\n          name = name.toLowerCase();\n\n          // Don't rename animation name when we have `var()` function\n          if (inAnimationProperty && balanced.length === 1) {\n            lastIdentifier = undefined;\n          }\n          if (name === \"var\") {\n            let pos = walkCssTokens.eatWhitespaceAndComments(input, end);\n            if (pos === input.length) return pos;\n            const [newPos, name] = eatText(input, pos, eatNameInVar);\n            if (!name.startsWith(\"--\")) return end;\n            const {\n              line: sl,\n              column: sc\n            } = locConverter.get(pos);\n            const {\n              line: el,\n              column: ec\n            } = locConverter.get(newPos);\n            const dep = new CssSelfLocalIdentifierDependency(name.slice(2), [pos, newPos], \"--\", declaredCssVariables);\n            dep.setLoc(sl, sc, el, ec);\n            module.addDependency(dep);\n            return newPos;\n          }\n        }\n        return end;\n      },\n      leftParenthesis: (input, start, end) => {\n        balanced.push([\"(\", start, end]);\n        return end;\n      },\n      rightParenthesis: (input, start, end) => {\n        const last = balanced[balanced.length - 1];\n        const popped = balanced.pop();\n        if (this.allowModeSwitch && popped && (popped[0] === \":local\" || popped[0] === \":global\")) {\n          modeData = balanced[balanced.length - 1] ? ( /** @type {\"local\" | \"global\"} */\n          balanced[balanced.length - 1][0]) : undefined;\n          const dep = new ConstDependency(\"\", [start, end]);\n          module.addPresentationalDependency(dep);\n          return end;\n        }\n        switch (scope) {\n          case CSS_MODE_IN_AT_IMPORT:\n            {\n              if (last && last[0] === \"url\" && !importData.inSupports) {\n                importData.urlStart = last[1];\n                importData.urlEnd = end;\n              } else if (last && last[0].toLowerCase() === \"layer\" && !importData.inSupports) {\n                importData.layer = input.slice(last[2], end - 1).trim();\n                importData.layerStart = last[1];\n                importData.layerEnd = end;\n              } else if (last && last[0].toLowerCase() === \"supports\") {\n                importData.supports = input.slice(last[2], end - 1).trim();\n                importData.supportsStart = last[1];\n                importData.supportsEnd = end;\n                importData.inSupports = false;\n              }\n              break;\n            }\n        }\n        return end;\n      },\n      pseudoClass: (input, start, end) => {\n        if (this.allowModeSwitch) {\n          const name = input.slice(start, end).toLowerCase();\n          if (name === \":global\") {\n            modeData = \"global\";\n            // Eat extra whitespace and comments\n            end = walkCssTokens.eatWhitespace(input, end);\n            const dep = new ConstDependency(\"\", [start, end]);\n            module.addPresentationalDependency(dep);\n            return end;\n          } else if (name === \":local\") {\n            modeData = \"local\";\n            // Eat extra whitespace and comments\n            end = walkCssTokens.eatWhitespace(input, end);\n            const dep = new ConstDependency(\"\", [start, end]);\n            module.addPresentationalDependency(dep);\n            return end;\n          }\n          switch (scope) {\n            case CSS_MODE_TOP_LEVEL:\n              {\n                if (name === \":export\") {\n                  const pos = parseExports(input, end);\n                  const dep = new ConstDependency(\"\", [start, pos]);\n                  module.addPresentationalDependency(dep);\n                  return pos;\n                }\n                break;\n              }\n          }\n        }\n        return end;\n      },\n      pseudoFunction: (input, start, end) => {\n        let name = input.slice(start, end - 1);\n        balanced.push([name, start, end]);\n        if (this.allowModeSwitch) {\n          name = name.toLowerCase();\n          if (name === \":global\") {\n            modeData = \"global\";\n            const dep = new ConstDependency(\"\", [start, end]);\n            module.addPresentationalDependency(dep);\n          } else if (name === \":local\") {\n            modeData = \"local\";\n            const dep = new ConstDependency(\"\", [start, end]);\n            module.addPresentationalDependency(dep);\n          }\n        }\n        return end;\n      },\n      comma: (input, start, end) => {\n        if (this.allowModeSwitch) {\n          // Reset stack for `:global .class :local .class-other` selector after\n          modeData = undefined;\n          switch (scope) {\n            case CSS_MODE_IN_BLOCK:\n              {\n                if (isLocalMode()) {\n                  processDeclarationValueDone(input);\n                }\n                break;\n              }\n          }\n        }\n        return end;\n      }\n    });\n    if (oldDefaultMode) {\n      this.defaultMode = oldDefaultMode;\n    }\n    module.buildInfo.strict = true;\n    module.buildMeta.exportsType = this.namedExports ? \"namespace\" : \"default\";\n    module.addDependency(new StaticExportsDependency([], true));\n    return state;\n  }\n}\nmodule.exports = CssParser;","map":{"version":3,"names":["ModuleDependencyWarning","require","CSS_MODULE_TYPE_AUTO","Parser","WebpackError","ConstDependency","CssExportDependency","CssImportDependency","CssLocalIdentifierDependency","CssSelfLocalIdentifierDependency","CssUrlDependency","StaticExportsDependency","parseResource","walkCssTokens","CC_LEFT_CURLY","charCodeAt","CC_RIGHT_CURLY","CC_COLON","CC_SLASH","CC_SEMICOLON","STRING_MULTILINE","TRIM_WHITE_SPACES","UNESCAPE","IMAGE_SET_FUNCTION","OPTIONALLY_VENDOR_PREFIXED_KEYFRAMES_AT_RULE","OPTIONALLY_VENDOR_PREFIXED_ANIMATION_PROPERTY","IS_MODULES","normalizeUrl","str","isString","replace","match","length","String","fromCharCode","parseInt","slice","trim","test","includes","decodeURIComponent","error","LocConverter","constructor","input","_input","line","column","pos","get","i","lastIndexOf","CSS_MODE_TOP_LEVEL","CSS_MODE_IN_BLOCK","CSS_MODE_IN_AT_IMPORT","CSS_MODE_AT_IMPORT_INVALID","CSS_MODE_AT_NAMESPACE_INVALID","CssParser","allowModeSwitch","defaultMode","namedExports","_emitWarning","state","message","locConverter","start","end","sl","sc","el","ec","current","addWarning","module","parse","source","Buffer","isBuffer","toString","Error","oldDefaultMode","type","matchResource","resource","path","declaredCssVariables","Set","scope","blockNestingLevel","allowImportAtRule","modeData","undefined","lastIdentifier","balanced","importData","inAnimationProperty","isNextRulePrelude","isNextNestedSyntax","eatWhitespaceAndComments","isIdentifier","isIdentStartCodePoint","isLocalMode","eatUntil","chars","charCodes","Array","from","_","arr","reduce","a","b","Math","max","forEach","cc","eatText","eater","text","newPos","eatComments","trimEnd","eatExportName","eatExportValue","parseExports","name","value","dep","setLoc","addDependency","eatWhiteLine","eatPropertyName","processLocalDeclaration","propertyNameStart","propertyNameEnd","propertyName","startsWith","add","processDeclarationValueDone","eatKeyframes","eatNameInVar","isSelector","url","contentStart","contentEnd","inSupports","urlStart","urlEnd","addCodeGenerationDependency","string","insideURLFunction","last","toLowerCase","isUrl","atKeyword","semicolon","layerStart","supportsStart","semicolonPos","lastEnd","supportsEnd","layerEnd","media","addPresentationalDependency","layer","supports","leftCurlyBracket","rightCurlyBracket","identifier","class","id","function","push","leftParenthesis","rightParenthesis","popped","pop","pseudoClass","eatWhitespace","pseudoFunction","comma","buildInfo","strict","buildMeta","exportsType","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/css/CssParser.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst ModuleDependencyWarning = require(\"../ModuleDependencyWarning\");\nconst { CSS_MODULE_TYPE_AUTO } = require(\"../ModuleTypeConstants\");\nconst Parser = require(\"../Parser\");\nconst WebpackError = require(\"../WebpackError\");\nconst ConstDependency = require(\"../dependencies/ConstDependency\");\nconst CssExportDependency = require(\"../dependencies/CssExportDependency\");\nconst CssImportDependency = require(\"../dependencies/CssImportDependency\");\nconst CssLocalIdentifierDependency = require(\"../dependencies/CssLocalIdentifierDependency\");\nconst CssSelfLocalIdentifierDependency = require(\"../dependencies/CssSelfLocalIdentifierDependency\");\nconst CssUrlDependency = require(\"../dependencies/CssUrlDependency\");\nconst StaticExportsDependency = require(\"../dependencies/StaticExportsDependency\");\nconst { parseResource } = require(\"../util/identifier\");\nconst walkCssTokens = require(\"./walkCssTokens\");\n\n/** @typedef {import(\"../Parser\").ParserState} ParserState */\n/** @typedef {import(\"../Parser\").PreparsedAst} PreparsedAst */\n/** @typedef {[number, number]} Range */\n\nconst CC_LEFT_CURLY = \"{\".charCodeAt(0);\nconst CC_RIGHT_CURLY = \"}\".charCodeAt(0);\nconst CC_COLON = \":\".charCodeAt(0);\nconst CC_SLASH = \"/\".charCodeAt(0);\nconst CC_SEMICOLON = \";\".charCodeAt(0);\n\n// https://www.w3.org/TR/css-syntax-3/#newline\n// We don't have `preprocessing` stage, so we need specify all of them\nconst STRING_MULTILINE = /\\\\[\\n\\r\\f]/g;\n// https://www.w3.org/TR/css-syntax-3/#whitespace\nconst TRIM_WHITE_SPACES = /(^[ \\t\\n\\r\\f]*|[ \\t\\n\\r\\f]*$)/g;\nconst UNESCAPE = /\\\\([0-9a-fA-F]{1,6}[ \\t\\n\\r\\f]?|[\\s\\S])/g;\nconst IMAGE_SET_FUNCTION = /^(-\\w+-)?image-set$/i;\nconst OPTIONALLY_VENDOR_PREFIXED_KEYFRAMES_AT_RULE = /^@(-\\w+-)?keyframes$/;\nconst OPTIONALLY_VENDOR_PREFIXED_ANIMATION_PROPERTY =\n\t/^(-\\w+-)?animation(-name)?$/i;\nconst IS_MODULES = /\\.module(s)?\\.[^.]+$/i;\n\n/**\n * @param {string} str url string\n * @param {boolean} isString is url wrapped in quotes\n * @returns {string} normalized url\n */\nconst normalizeUrl = (str, isString) => {\n\t// Remove extra spaces and newlines:\n\t// `url(\"im\\\n\t// g.png\")`\n\tif (isString) {\n\t\tstr = str.replace(STRING_MULTILINE, \"\");\n\t}\n\n\tstr = str\n\t\t// Remove unnecessary spaces from `url(\"   img.png\t \")`\n\t\t.replace(TRIM_WHITE_SPACES, \"\")\n\t\t// Unescape\n\t\t.replace(UNESCAPE, match => {\n\t\t\tif (match.length > 2) {\n\t\t\t\treturn String.fromCharCode(parseInt(match.slice(1).trim(), 16));\n\t\t\t} else {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t});\n\n\tif (/^data:/i.test(str)) {\n\t\treturn str;\n\t}\n\n\tif (str.includes(\"%\")) {\n\t\t// Convert `url('%2E/img.png')` -> `url('./img.png')`\n\t\ttry {\n\t\t\tstr = decodeURIComponent(str);\n\t\t} catch (error) {\n\t\t\t// Ignore\n\t\t}\n\t}\n\n\treturn str;\n};\n\nclass LocConverter {\n\t/**\n\t * @param {string} input input\n\t */\n\tconstructor(input) {\n\t\tthis._input = input;\n\t\tthis.line = 1;\n\t\tthis.column = 0;\n\t\tthis.pos = 0;\n\t}\n\n\t/**\n\t * @param {number} pos position\n\t * @returns {LocConverter} location converter\n\t */\n\tget(pos) {\n\t\tif (this.pos !== pos) {\n\t\t\tif (this.pos < pos) {\n\t\t\t\tconst str = this._input.slice(this.pos, pos);\n\t\t\t\tlet i = str.lastIndexOf(\"\\n\");\n\t\t\t\tif (i === -1) {\n\t\t\t\t\tthis.column += str.length;\n\t\t\t\t} else {\n\t\t\t\t\tthis.column = str.length - i - 1;\n\t\t\t\t\tthis.line++;\n\t\t\t\t\twhile (i > 0 && (i = str.lastIndexOf(\"\\n\", i - 1)) !== -1)\n\t\t\t\t\t\tthis.line++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet i = this._input.lastIndexOf(\"\\n\", this.pos);\n\t\t\t\twhile (i >= pos) {\n\t\t\t\t\tthis.line--;\n\t\t\t\t\ti = i > 0 ? this._input.lastIndexOf(\"\\n\", i - 1) : -1;\n\t\t\t\t}\n\t\t\t\tthis.column = pos - i;\n\t\t\t}\n\t\t\tthis.pos = pos;\n\t\t}\n\t\treturn this;\n\t}\n}\n\nconst CSS_MODE_TOP_LEVEL = 0;\nconst CSS_MODE_IN_BLOCK = 1;\nconst CSS_MODE_IN_AT_IMPORT = 2;\nconst CSS_MODE_AT_IMPORT_INVALID = 3;\nconst CSS_MODE_AT_NAMESPACE_INVALID = 4;\n\nclass CssParser extends Parser {\n\tconstructor({\n\t\tallowModeSwitch = true,\n\t\tdefaultMode = \"global\",\n\t\tnamedExports = true\n\t} = {}) {\n\t\tsuper();\n\t\tthis.allowModeSwitch = allowModeSwitch;\n\t\tthis.defaultMode = defaultMode;\n\t\tthis.namedExports = namedExports;\n\t}\n\n\t/**\n\t * @param {ParserState} state parser state\n\t * @param {string} message warning message\n\t * @param {LocConverter} locConverter location converter\n\t * @param {number} start start offset\n\t * @param {number} end end offset\n\t */\n\t_emitWarning(state, message, locConverter, start, end) {\n\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\tconst { line: el, column: ec } = locConverter.get(end);\n\n\t\tstate.current.addWarning(\n\t\t\tnew ModuleDependencyWarning(state.module, new WebpackError(message), {\n\t\t\t\tstart: { line: sl, column: sc },\n\t\t\t\tend: { line: el, column: ec }\n\t\t\t})\n\t\t);\n\t}\n\n\t/**\n\t * @param {string | Buffer | PreparsedAst} source the source to parse\n\t * @param {ParserState} state the parser state\n\t * @returns {ParserState} the parser state\n\t */\n\tparse(source, state) {\n\t\tif (Buffer.isBuffer(source)) {\n\t\t\tsource = source.toString(\"utf-8\");\n\t\t} else if (typeof source === \"object\") {\n\t\t\tthrow new Error(\"webpackAst is unexpected for the CssParser\");\n\t\t}\n\t\tif (source[0] === \"\\ufeff\") {\n\t\t\tsource = source.slice(1);\n\t\t}\n\n\t\tconst module = state.module;\n\n\t\t/** @type {string | undefined} */\n\t\tlet oldDefaultMode;\n\n\t\tif (\n\t\t\tmodule.type === CSS_MODULE_TYPE_AUTO &&\n\t\t\tIS_MODULES.test(\n\t\t\t\tparseResource(module.matchResource || module.resource).path\n\t\t\t)\n\t\t) {\n\t\t\toldDefaultMode = this.defaultMode;\n\n\t\t\tthis.defaultMode = \"local\";\n\t\t}\n\n\t\tconst locConverter = new LocConverter(source);\n\t\t/** @type {Set<string>}*/\n\t\tconst declaredCssVariables = new Set();\n\t\t/** @type {number} */\n\t\tlet scope = CSS_MODE_TOP_LEVEL;\n\t\t/** @type {number} */\n\t\tlet blockNestingLevel = 0;\n\t\t/** @type {boolean} */\n\t\tlet allowImportAtRule = true;\n\t\t/** @type {\"local\" | \"global\" | undefined} */\n\t\tlet modeData = undefined;\n\t\t/** @type {[number, number] | undefined} */\n\t\tlet lastIdentifier = undefined;\n\t\t/** @type [string, number, number][] */\n\t\tlet balanced = [];\n\t\t/** @type {undefined | { start: number, url?: string, urlStart?: number, urlEnd?: number, layer?: string, layerStart?: number, layerEnd?: number, supports?: string, supportsStart?: number, supportsEnd?: number, inSupports?:boolean, media?: string  }} */\n\t\tlet importData = undefined;\n\t\t/** @type {boolean} */\n\t\tlet inAnimationProperty = false;\n\t\t/** @type {boolean} */\n\t\tlet isNextRulePrelude = true;\n\n\t\t/**\n\t\t * @param {string} input input\n\t\t * @param {number} pos position\n\t\t * @returns {boolean} true, when next is nested syntax\n\t\t */\n\t\tconst isNextNestedSyntax = (input, pos) => {\n\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\n\t\t\tif (input[pos] === \"}\") {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// According spec only identifier can be used as a property name\n\t\t\tconst isIdentifier = walkCssTokens.isIdentStartCodePoint(\n\t\t\t\tinput.charCodeAt(pos)\n\t\t\t);\n\n\t\t\treturn !isIdentifier;\n\t\t};\n\t\t/**\n\t\t * @returns {boolean} true, when in local scope\n\t\t */\n\t\tconst isLocalMode = () =>\n\t\t\tmodeData === \"local\" ||\n\t\t\t(this.defaultMode === \"local\" && modeData === undefined);\n\t\t/**\n\t\t * @param {string} chars characters\n\t\t * @returns {(input: string, pos: number) => number} function to eat characters\n\t\t */\n\t\tconst eatUntil = chars => {\n\t\t\tconst charCodes = Array.from({ length: chars.length }, (_, i) =>\n\t\t\t\tchars.charCodeAt(i)\n\t\t\t);\n\t\t\tconst arr = Array.from(\n\t\t\t\t{ length: charCodes.reduce((a, b) => Math.max(a, b), 0) + 1 },\n\t\t\t\t() => false\n\t\t\t);\n\t\t\tcharCodes.forEach(cc => (arr[cc] = true));\n\t\t\treturn (input, pos) => {\n\t\t\t\tfor (;;) {\n\t\t\t\t\tconst cc = input.charCodeAt(pos);\n\t\t\t\t\tif (cc < arr.length && arr[cc]) {\n\t\t\t\t\t\treturn pos;\n\t\t\t\t\t}\n\t\t\t\t\tpos++;\n\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\t/**\n\t\t * @param {string} input input\n\t\t * @param {number} pos start position\n\t\t * @param {(input: string, pos: number) => number} eater eater\n\t\t * @returns {[number,string]} new position and text\n\t\t */\n\t\tconst eatText = (input, pos, eater) => {\n\t\t\tlet text = \"\";\n\t\t\tfor (;;) {\n\t\t\t\tif (input.charCodeAt(pos) === CC_SLASH) {\n\t\t\t\t\tconst newPos = walkCssTokens.eatComments(input, pos);\n\t\t\t\t\tif (pos !== newPos) {\n\t\t\t\t\t\tpos = newPos;\n\t\t\t\t\t\tif (pos === input.length) break;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext += \"/\";\n\t\t\t\t\t\tpos++;\n\t\t\t\t\t\tif (pos === input.length) break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst newPos = eater(input, pos);\n\t\t\t\tif (pos !== newPos) {\n\t\t\t\t\ttext += input.slice(pos, newPos);\n\t\t\t\t\tpos = newPos;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (pos === input.length) break;\n\t\t\t}\n\t\t\treturn [pos, text.trimEnd()];\n\t\t};\n\t\tconst eatExportName = eatUntil(\":};/\");\n\t\tconst eatExportValue = eatUntil(\"};/\");\n\t\t/**\n\t\t * @param {string} input input\n\t\t * @param {number} pos start position\n\t\t * @returns {number} position after parse\n\t\t */\n\t\tconst parseExports = (input, pos) => {\n\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\tconst cc = input.charCodeAt(pos);\n\t\t\tif (cc !== CC_LEFT_CURLY) {\n\t\t\t\tthis._emitWarning(\n\t\t\t\t\tstate,\n\t\t\t\t\t`Unexpected '${input[pos]}' at ${pos} during parsing of ':export' (expected '{')`,\n\t\t\t\t\tlocConverter,\n\t\t\t\t\tpos,\n\t\t\t\t\tpos\n\t\t\t\t);\n\t\t\t\treturn pos;\n\t\t\t}\n\t\t\tpos++;\n\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\tfor (;;) {\n\t\t\t\tif (input.charCodeAt(pos) === CC_RIGHT_CURLY) break;\n\t\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\tlet start = pos;\n\t\t\t\tlet name;\n\t\t\t\t[pos, name] = eatText(input, pos, eatExportName);\n\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\tif (input.charCodeAt(pos) !== CC_COLON) {\n\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\t`Unexpected '${input[pos]}' at ${pos} during parsing of export name in ':export' (expected ':')`,\n\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tpos\n\t\t\t\t\t);\n\t\t\t\t\treturn pos;\n\t\t\t\t}\n\t\t\t\tpos++;\n\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\tlet value;\n\t\t\t\t[pos, value] = eatText(input, pos, eatExportValue);\n\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\tconst cc = input.charCodeAt(pos);\n\t\t\t\tif (cc === CC_SEMICOLON) {\n\t\t\t\t\tpos++;\n\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t} else if (cc !== CC_RIGHT_CURLY) {\n\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\t`Unexpected '${input[pos]}' at ${pos} during parsing of export value in ':export' (expected ';' or '}')`,\n\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tpos\n\t\t\t\t\t);\n\t\t\t\t\treturn pos;\n\t\t\t\t}\n\t\t\t\tconst dep = new CssExportDependency(name, value);\n\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\tconst { line: el, column: ec } = locConverter.get(pos);\n\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\tmodule.addDependency(dep);\n\t\t\t}\n\t\t\tpos++;\n\t\t\tif (pos === input.length) return pos;\n\t\t\tpos = walkCssTokens.eatWhiteLine(input, pos);\n\t\t\treturn pos;\n\t\t};\n\t\tconst eatPropertyName = eatUntil(\":{};\");\n\t\t/**\n\t\t * @param {string} input input\n\t\t * @param {number} pos name start position\n\t\t * @param {number} end name end position\n\t\t * @returns {number} position after handling\n\t\t */\n\t\tconst processLocalDeclaration = (input, pos, end) => {\n\t\t\tmodeData = undefined;\n\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\tconst propertyNameStart = pos;\n\t\t\tconst [propertyNameEnd, propertyName] = eatText(\n\t\t\t\tinput,\n\t\t\t\tpos,\n\t\t\t\teatPropertyName\n\t\t\t);\n\t\t\tif (input.charCodeAt(propertyNameEnd) !== CC_COLON) return end;\n\t\t\tpos = propertyNameEnd + 1;\n\t\t\tif (propertyName.startsWith(\"--\")) {\n\t\t\t\t// CSS Variable\n\t\t\t\tconst { line: sl, column: sc } = locConverter.get(propertyNameStart);\n\t\t\t\tconst { line: el, column: ec } = locConverter.get(propertyNameEnd);\n\t\t\t\tconst name = propertyName.slice(2);\n\t\t\t\tconst dep = new CssLocalIdentifierDependency(\n\t\t\t\t\tname,\n\t\t\t\t\t[propertyNameStart, propertyNameEnd],\n\t\t\t\t\t\"--\"\n\t\t\t\t);\n\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\tmodule.addDependency(dep);\n\t\t\t\tdeclaredCssVariables.add(name);\n\t\t\t} else if (\n\t\t\t\t!propertyName.startsWith(\"--\") &&\n\t\t\t\tOPTIONALLY_VENDOR_PREFIXED_ANIMATION_PROPERTY.test(propertyName)\n\t\t\t) {\n\t\t\t\tinAnimationProperty = true;\n\t\t\t}\n\t\t\treturn pos;\n\t\t};\n\t\t/**\n\t\t * @param {string} input input\n\t\t */\n\t\tconst processDeclarationValueDone = input => {\n\t\t\tif (inAnimationProperty && lastIdentifier) {\n\t\t\t\tconst { line: sl, column: sc } = locConverter.get(lastIdentifier[0]);\n\t\t\t\tconst { line: el, column: ec } = locConverter.get(lastIdentifier[1]);\n\t\t\t\tconst name = input.slice(lastIdentifier[0], lastIdentifier[1]);\n\t\t\t\tconst dep = new CssSelfLocalIdentifierDependency(name, lastIdentifier);\n\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\tmodule.addDependency(dep);\n\t\t\t\tlastIdentifier = undefined;\n\t\t\t}\n\t\t};\n\t\tconst eatKeyframes = eatUntil(\"{};/\");\n\t\tconst eatNameInVar = eatUntil(\",)};/\");\n\t\twalkCssTokens(source, {\n\t\t\tisSelector: () => {\n\t\t\t\treturn isNextRulePrelude;\n\t\t\t},\n\t\t\turl: (input, start, end, contentStart, contentEnd) => {\n\t\t\t\tlet value = normalizeUrl(input.slice(contentStart, contentEnd), false);\n\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_AT_IMPORT: {\n\t\t\t\t\t\t// Do not parse URLs in `supports(...)`\n\t\t\t\t\t\tif (importData.inSupports) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (importData.url) {\n\t\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t`Duplicate of 'url(...)' in '${input.slice(\n\t\t\t\t\t\t\t\t\timportData.start,\n\t\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\t)}'`,\n\t\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timportData.url = value;\n\t\t\t\t\t\timportData.urlStart = start;\n\t\t\t\t\t\timportData.urlEnd = end;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t// Do not parse URLs in import between rules\n\t\t\t\t\tcase CSS_MODE_AT_NAMESPACE_INVALID:\n\t\t\t\t\tcase CSS_MODE_AT_IMPORT_INVALID: {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\t// Ignore `url()`, `url('')` and `url(\"\")`, they are valid by spec\n\t\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst dep = new CssUrlDependency(value, [start, end], \"url\");\n\t\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(end);\n\t\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\t\tmodule.addCodeGenerationDependency(dep);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tstring: (input, start, end) => {\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_AT_IMPORT: {\n\t\t\t\t\t\tconst insideURLFunction =\n\t\t\t\t\t\t\tbalanced[balanced.length - 1] &&\n\t\t\t\t\t\t\tbalanced[balanced.length - 1][0] === \"url\";\n\n\t\t\t\t\t\t// Do not parse URLs in `supports(...)` and other strings if we already have a URL\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\timportData.inSupports ||\n\t\t\t\t\t\t\t(!insideURLFunction && importData.url)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (insideURLFunction && importData.url) {\n\t\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t`Duplicate of 'url(...)' in '${input.slice(\n\t\t\t\t\t\t\t\t\timportData.start,\n\t\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\t)}'`,\n\t\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timportData.url = normalizeUrl(\n\t\t\t\t\t\t\tinput.slice(start + 1, end - 1),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (!insideURLFunction) {\n\t\t\t\t\t\t\timportData.urlStart = start;\n\t\t\t\t\t\t\timportData.urlEnd = end;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\t// TODO move escaped parsing to tokenizer\n\t\t\t\t\t\tconst last = balanced[balanced.length - 1];\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlast &&\n\t\t\t\t\t\t\t(last[0].replace(/\\\\/g, \"\").toLowerCase() === \"url\" ||\n\t\t\t\t\t\t\t\tIMAGE_SET_FUNCTION.test(last[0].replace(/\\\\/g, \"\")))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet value = normalizeUrl(input.slice(start + 1, end - 1), true);\n\n\t\t\t\t\t\t\t// Ignore `url()`, `url('')` and `url(\"\")`, they are valid by spec\n\t\t\t\t\t\t\tif (value.length === 0) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst isUrl = last[0].replace(/\\\\/g, \"\").toLowerCase() === \"url\";\n\t\t\t\t\t\t\tconst dep = new CssUrlDependency(\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t[start, end],\n\t\t\t\t\t\t\t\tisUrl ? \"string\" : \"url\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(end);\n\t\t\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\t\t\tmodule.addCodeGenerationDependency(dep);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tatKeyword: (input, start, end) => {\n\t\t\t\tconst name = input.slice(start, end).toLowerCase();\n\t\t\t\tif (name === \"@namespace\") {\n\t\t\t\t\tscope = CSS_MODE_AT_NAMESPACE_INVALID;\n\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\"'@namespace' is not supported in bundled CSS\",\n\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend\n\t\t\t\t\t);\n\t\t\t\t\treturn end;\n\t\t\t\t} else if (name === \"@import\") {\n\t\t\t\t\tif (!allowImportAtRule) {\n\t\t\t\t\t\tscope = CSS_MODE_AT_IMPORT_INVALID;\n\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\"Any '@import' rules must precede all other rules\",\n\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn end;\n\t\t\t\t\t}\n\n\t\t\t\t\tscope = CSS_MODE_IN_AT_IMPORT;\n\t\t\t\t\timportData = { start };\n\t\t\t\t} else if (\n\t\t\t\t\tthis.allowModeSwitch &&\n\t\t\t\t\tOPTIONALLY_VENDOR_PREFIXED_KEYFRAMES_AT_RULE.test(name)\n\t\t\t\t) {\n\t\t\t\t\tlet pos = end;\n\t\t\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t\tconst [newPos, name] = eatText(input, pos, eatKeyframes);\n\t\t\t\t\tif (newPos === input.length) return newPos;\n\t\t\t\t\tif (input.charCodeAt(newPos) !== CC_LEFT_CURLY) {\n\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t`Unexpected '${input[newPos]}' at ${newPos} during parsing of @keyframes (expected '{')`,\n\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn newPos;\n\t\t\t\t\t}\n\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(pos);\n\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(newPos);\n\t\t\t\t\tconst dep = new CssLocalIdentifierDependency(name, [pos, newPos]);\n\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\tpos = newPos;\n\t\t\t\t\treturn pos + 1;\n\t\t\t\t} else if (this.allowModeSwitch && name === \"@property\") {\n\t\t\t\t\tlet pos = end;\n\t\t\t\t\tpos = walkCssTokens.eatWhitespaceAndComments(input, pos);\n\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t\tconst propertyNameStart = pos;\n\t\t\t\t\tconst [propertyNameEnd, propertyName] = eatText(\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tpos,\n\t\t\t\t\t\teatKeyframes\n\t\t\t\t\t);\n\t\t\t\t\tif (propertyNameEnd === input.length) return propertyNameEnd;\n\t\t\t\t\tif (!propertyName.startsWith(\"--\")) return propertyNameEnd;\n\t\t\t\t\tif (input.charCodeAt(propertyNameEnd) !== CC_LEFT_CURLY) {\n\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t`Unexpected '${input[propertyNameEnd]}' at ${propertyNameEnd} during parsing of @property (expected '{')`,\n\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\tend\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn propertyNameEnd;\n\t\t\t\t\t}\n\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(pos);\n\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(propertyNameEnd);\n\t\t\t\t\tconst name = propertyName.slice(2);\n\t\t\t\t\tconst dep = new CssLocalIdentifierDependency(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t[propertyNameStart, propertyNameEnd],\n\t\t\t\t\t\t\"--\"\n\t\t\t\t\t);\n\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\tdeclaredCssVariables.add(name);\n\t\t\t\t\tpos = propertyNameEnd;\n\t\t\t\t\treturn pos + 1;\n\t\t\t\t} else if (\n\t\t\t\t\tname === \"@media\" ||\n\t\t\t\t\tname === \"@supports\" ||\n\t\t\t\t\tname === \"@layer\" ||\n\t\t\t\t\tname === \"@container\"\n\t\t\t\t) {\n\t\t\t\t\tmodeData = isLocalMode() ? \"local\" : \"global\";\n\t\t\t\t\tisNextRulePrelude = true;\n\t\t\t\t\treturn end;\n\t\t\t\t} else if (this.allowModeSwitch) {\n\t\t\t\t\tmodeData = \"global\";\n\t\t\t\t\tisNextRulePrelude = false;\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tsemicolon: (input, start, end) => {\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_AT_IMPORT: {\n\t\t\t\t\t\tconst { start } = importData;\n\n\t\t\t\t\t\tif (importData.url === undefined) {\n\t\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t`Expected URL in '${input.slice(start, end)}'`,\n\t\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\timportData = undefined;\n\t\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\t\t\t\t\t\t\treturn end;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\timportData.urlStart > importData.layerStart ||\n\t\t\t\t\t\t\timportData.urlStart > importData.supportsStart\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t`An URL in '${input.slice(\n\t\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\t)}' should be before 'layer(...)' or 'supports(...)'`,\n\t\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\timportData = undefined;\n\t\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\t\t\t\t\t\t\treturn end;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (importData.layerStart > importData.supportsStart) {\n\t\t\t\t\t\t\tthis._emitWarning(\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t`The 'layer(...)' in '${input.slice(\n\t\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t\t)}' should be before 'supports(...)'`,\n\t\t\t\t\t\t\t\tlocConverter,\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tend\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\timportData = undefined;\n\t\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\t\t\t\t\t\t\treturn end;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst semicolonPos = end;\n\t\t\t\t\t\tend = walkCssTokens.eatWhiteLine(input, end + 1);\n\t\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(end);\n\t\t\t\t\t\tconst lastEnd =\n\t\t\t\t\t\t\timportData.supportsEnd ||\n\t\t\t\t\t\t\timportData.layerEnd ||\n\t\t\t\t\t\t\timportData.urlEnd ||\n\t\t\t\t\t\t\tstart;\n\t\t\t\t\t\tconst pos = walkCssTokens.eatWhitespaceAndComments(input, lastEnd);\n\t\t\t\t\t\t// Prevent to consider comments as a part of media query\n\t\t\t\t\t\tif (pos !== semicolonPos - 1) {\n\t\t\t\t\t\t\timportData.media = input.slice(lastEnd, semicolonPos - 1).trim();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst url = importData.url.trim();\n\n\t\t\t\t\t\tif (url.length === 0) {\n\t\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst dep = new CssImportDependency(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\t[start, end],\n\t\t\t\t\t\t\t\timportData.layer,\n\t\t\t\t\t\t\t\timportData.supports,\n\t\t\t\t\t\t\t\timportData.media && importData.media.length > 0\n\t\t\t\t\t\t\t\t\t? importData.media\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timportData = undefined;\n\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_AT_IMPORT_INVALID:\n\t\t\t\t\tcase CSS_MODE_AT_NAMESPACE_INVALID: {\n\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\t\t\tprocessDeclarationValueDone(input);\n\t\t\t\t\t\t\tinAnimationProperty = false;\n\t\t\t\t\t\t\tisNextRulePrelude = isNextNestedSyntax(input, end);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tleftCurlyBracket: (input, start, end) => {\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_TOP_LEVEL: {\n\t\t\t\t\t\tallowImportAtRule = false;\n\t\t\t\t\t\tscope = CSS_MODE_IN_BLOCK;\n\t\t\t\t\t\tblockNestingLevel = 1;\n\n\t\t\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\t\t\tisNextRulePrelude = isNextNestedSyntax(input, end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\tblockNestingLevel++;\n\n\t\t\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\t\t\tisNextRulePrelude = isNextNestedSyntax(input, end);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\trightCurlyBracket: (input, start, end) => {\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\t\t\tprocessDeclarationValueDone(input);\n\t\t\t\t\t\t\tinAnimationProperty = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (--blockNestingLevel === 0) {\n\t\t\t\t\t\t\tscope = CSS_MODE_TOP_LEVEL;\n\n\t\t\t\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\t\t\t\tisNextRulePrelude = true;\n\t\t\t\t\t\t\t\tmodeData = undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (this.allowModeSwitch) {\n\t\t\t\t\t\t\tisNextRulePrelude = isNextNestedSyntax(input, end);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tidentifier: (input, start, end) => {\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\t\t\t// Handle only top level values and not inside functions\n\t\t\t\t\t\t\tif (inAnimationProperty && balanced.length === 0) {\n\t\t\t\t\t\t\t\tlastIdentifier = [start, end];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn processLocalDeclaration(input, start, end);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase CSS_MODE_IN_AT_IMPORT: {\n\t\t\t\t\t\tif (input.slice(start, end).toLowerCase() === \"layer\") {\n\t\t\t\t\t\t\timportData.layer = \"\";\n\t\t\t\t\t\t\timportData.layerStart = start;\n\t\t\t\t\t\t\timportData.layerEnd = end;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tclass: (input, start, end) => {\n\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\tconst name = input.slice(start + 1, end);\n\t\t\t\t\tconst dep = new CssLocalIdentifierDependency(name, [start + 1, end]);\n\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(end);\n\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t}\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tid: (input, start, end) => {\n\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\tconst name = input.slice(start + 1, end);\n\t\t\t\t\tconst dep = new CssLocalIdentifierDependency(name, [start + 1, end]);\n\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(start);\n\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(end);\n\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tfunction: (input, start, end) => {\n\t\t\t\tlet name = input.slice(start, end - 1);\n\n\t\t\t\tbalanced.push([name, start, end]);\n\n\t\t\t\tif (\n\t\t\t\t\tscope === CSS_MODE_IN_AT_IMPORT &&\n\t\t\t\t\tname.toLowerCase() === \"supports\"\n\t\t\t\t) {\n\t\t\t\t\timportData.inSupports = true;\n\t\t\t\t}\n\n\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\tname = name.toLowerCase();\n\n\t\t\t\t\t// Don't rename animation name when we have `var()` function\n\t\t\t\t\tif (inAnimationProperty && balanced.length === 1) {\n\t\t\t\t\t\tlastIdentifier = undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (name === \"var\") {\n\t\t\t\t\t\tlet pos = walkCssTokens.eatWhitespaceAndComments(input, end);\n\t\t\t\t\t\tif (pos === input.length) return pos;\n\t\t\t\t\t\tconst [newPos, name] = eatText(input, pos, eatNameInVar);\n\t\t\t\t\t\tif (!name.startsWith(\"--\")) return end;\n\t\t\t\t\t\tconst { line: sl, column: sc } = locConverter.get(pos);\n\t\t\t\t\t\tconst { line: el, column: ec } = locConverter.get(newPos);\n\t\t\t\t\t\tconst dep = new CssSelfLocalIdentifierDependency(\n\t\t\t\t\t\t\tname.slice(2),\n\t\t\t\t\t\t\t[pos, newPos],\n\t\t\t\t\t\t\t\"--\",\n\t\t\t\t\t\t\tdeclaredCssVariables\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdep.setLoc(sl, sc, el, ec);\n\t\t\t\t\t\tmodule.addDependency(dep);\n\t\t\t\t\t\treturn newPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tleftParenthesis: (input, start, end) => {\n\t\t\t\tbalanced.push([\"(\", start, end]);\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\trightParenthesis: (input, start, end) => {\n\t\t\t\tconst last = balanced[balanced.length - 1];\n\t\t\t\tconst popped = balanced.pop();\n\n\t\t\t\tif (\n\t\t\t\t\tthis.allowModeSwitch &&\n\t\t\t\t\tpopped &&\n\t\t\t\t\t(popped[0] === \":local\" || popped[0] === \":global\")\n\t\t\t\t) {\n\t\t\t\t\tmodeData = balanced[balanced.length - 1]\n\t\t\t\t\t\t? /** @type {\"local\" | \"global\"} */\n\t\t\t\t\t\t\t(balanced[balanced.length - 1][0])\n\t\t\t\t\t\t: undefined;\n\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\n\t\t\t\tswitch (scope) {\n\t\t\t\t\tcase CSS_MODE_IN_AT_IMPORT: {\n\t\t\t\t\t\tif (last && last[0] === \"url\" && !importData.inSupports) {\n\t\t\t\t\t\t\timportData.urlStart = last[1];\n\t\t\t\t\t\t\timportData.urlEnd = end;\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tlast &&\n\t\t\t\t\t\t\tlast[0].toLowerCase() === \"layer\" &&\n\t\t\t\t\t\t\t!importData.inSupports\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\timportData.layer = input.slice(last[2], end - 1).trim();\n\t\t\t\t\t\t\timportData.layerStart = last[1];\n\t\t\t\t\t\t\timportData.layerEnd = end;\n\t\t\t\t\t\t} else if (last && last[0].toLowerCase() === \"supports\") {\n\t\t\t\t\t\t\timportData.supports = input.slice(last[2], end - 1).trim();\n\t\t\t\t\t\t\timportData.supportsStart = last[1];\n\t\t\t\t\t\t\timportData.supportsEnd = end;\n\t\t\t\t\t\t\timportData.inSupports = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tpseudoClass: (input, start, end) => {\n\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\tconst name = input.slice(start, end).toLowerCase();\n\n\t\t\t\t\tif (name === \":global\") {\n\t\t\t\t\t\tmodeData = \"global\";\n\t\t\t\t\t\t// Eat extra whitespace and comments\n\t\t\t\t\t\tend = walkCssTokens.eatWhitespace(input, end);\n\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t\treturn end;\n\t\t\t\t\t} else if (name === \":local\") {\n\t\t\t\t\t\tmodeData = \"local\";\n\t\t\t\t\t\t// Eat extra whitespace and comments\n\t\t\t\t\t\tend = walkCssTokens.eatWhitespace(input, end);\n\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t\treturn end;\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch (scope) {\n\t\t\t\t\t\tcase CSS_MODE_TOP_LEVEL: {\n\t\t\t\t\t\t\tif (name === \":export\") {\n\t\t\t\t\t\t\t\tconst pos = parseExports(input, end);\n\t\t\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, pos]);\n\t\t\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t\t\t\treturn pos;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tpseudoFunction: (input, start, end) => {\n\t\t\t\tlet name = input.slice(start, end - 1);\n\n\t\t\t\tbalanced.push([name, start, end]);\n\n\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\tname = name.toLowerCase();\n\n\t\t\t\t\tif (name === \":global\") {\n\t\t\t\t\t\tmodeData = \"global\";\n\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t} else if (name === \":local\") {\n\t\t\t\t\t\tmodeData = \"local\";\n\t\t\t\t\t\tconst dep = new ConstDependency(\"\", [start, end]);\n\t\t\t\t\t\tmodule.addPresentationalDependency(dep);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn end;\n\t\t\t},\n\t\t\tcomma: (input, start, end) => {\n\t\t\t\tif (this.allowModeSwitch) {\n\t\t\t\t\t// Reset stack for `:global .class :local .class-other` selector after\n\t\t\t\t\tmodeData = undefined;\n\n\t\t\t\t\tswitch (scope) {\n\t\t\t\t\t\tcase CSS_MODE_IN_BLOCK: {\n\t\t\t\t\t\t\tif (isLocalMode()) {\n\t\t\t\t\t\t\t\tprocessDeclarationValueDone(input);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn end;\n\t\t\t}\n\t\t});\n\n\t\tif (oldDefaultMode) {\n\t\t\tthis.defaultMode = oldDefaultMode;\n\t\t}\n\n\t\tmodule.buildInfo.strict = true;\n\t\tmodule.buildMeta.exportsType = this.namedExports ? \"namespace\" : \"default\";\n\t\tmodule.addDependency(new StaticExportsDependency([], true));\n\t\treturn state;\n\t}\n}\n\nmodule.exports = CssParser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}