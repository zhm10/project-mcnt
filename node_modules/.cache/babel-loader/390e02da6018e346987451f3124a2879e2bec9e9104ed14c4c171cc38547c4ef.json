{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra and Zackary Jackson @ScriptedAlchemy\n*/\n\n\"use strict\";\n\nconst {\n  RawSource\n} = require(\"webpack-sources\");\nconst Module = require(\"../Module\");\nconst {\n  WEBPACK_MODULE_TYPE_FALLBACK\n} = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst FallbackItemDependency = require(\"./FallbackItemDependency\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../ChunkGroup\")} ChunkGroup */\n/** @typedef {import(\"../Compilation\")} Compilation */\n/** @typedef {import(\"../Module\").CodeGenerationContext} CodeGenerationContext */\n/** @typedef {import(\"../Module\").CodeGenerationResult} CodeGenerationResult */\n/** @typedef {import(\"../Module\").LibIdentOptions} LibIdentOptions */\n/** @typedef {import(\"../Module\").NeedBuildContext} NeedBuildContext */\n/** @typedef {import(\"../Module\").SourceTypes} SourceTypes */\n/** @typedef {import(\"../RequestShortener\")} RequestShortener */\n/** @typedef {import(\"../ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/fs\").InputFileSystem} InputFileSystem */\n\nconst TYPES = new Set([\"javascript\"]);\nconst RUNTIME_REQUIREMENTS = new Set([RuntimeGlobals.module]);\nclass FallbackModule extends Module {\n  /**\n   * @param {string[]} requests list of requests to choose one\n   */\n  constructor(requests) {\n    super(WEBPACK_MODULE_TYPE_FALLBACK);\n    this.requests = requests;\n    this._identifier = `fallback ${this.requests.join(\" \")}`;\n  }\n\n  /**\n   * @returns {string} a unique identifier of the module\n   */\n  identifier() {\n    return this._identifier;\n  }\n\n  /**\n   * @param {RequestShortener} requestShortener the request shortener\n   * @returns {string} a user readable identifier of the module\n   */\n  readableIdentifier(requestShortener) {\n    return this._identifier;\n  }\n\n  /**\n   * @param {LibIdentOptions} options options\n   * @returns {string | null} an identifier for library inclusion\n   */\n  libIdent(options) {\n    return `${this.layer ? `(${this.layer})/` : \"\"}webpack/container/fallback/${this.requests[0]}/and ${this.requests.length - 1} more`;\n  }\n\n  /**\n   * @param {Chunk} chunk the chunk which condition should be checked\n   * @param {Compilation} compilation the compilation\n   * @returns {boolean} true, if the chunk is ok for the module\n   */\n  chunkCondition(chunk, {\n    chunkGraph\n  }) {\n    return chunkGraph.getNumberOfEntryModules(chunk) > 0;\n  }\n\n  /**\n   * @param {NeedBuildContext} context context info\n   * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n   * @returns {void}\n   */\n  needBuild(context, callback) {\n    callback(null, !this.buildInfo);\n  }\n\n  /**\n   * @param {WebpackOptions} options webpack options\n   * @param {Compilation} compilation the compilation\n   * @param {ResolverWithOptions} resolver the resolver\n   * @param {InputFileSystem} fs the file system\n   * @param {function(WebpackError=): void} callback callback function\n   * @returns {void}\n   */\n  build(options, compilation, resolver, fs, callback) {\n    this.buildMeta = {};\n    this.buildInfo = {\n      strict: true\n    };\n    this.clearDependenciesAndBlocks();\n    for (const request of this.requests) this.addDependency(new FallbackItemDependency(request));\n    callback();\n  }\n\n  /**\n   * @param {string=} type the source type for which the size should be estimated\n   * @returns {number} the estimated size of the module (must be non-zero)\n   */\n  size(type) {\n    return this.requests.length * 5 + 42;\n  }\n\n  /**\n   * @returns {SourceTypes} types available (do not mutate)\n   */\n  getSourceTypes() {\n    return TYPES;\n  }\n\n  /**\n   * @param {CodeGenerationContext} context context for code generation\n   * @returns {CodeGenerationResult} result\n   */\n  codeGeneration({\n    runtimeTemplate,\n    moduleGraph,\n    chunkGraph\n  }) {\n    const ids = this.dependencies.map(dep => chunkGraph.getModuleId( /** @type {Module} */moduleGraph.getModule(dep)));\n    const code = Template.asString([`var ids = ${JSON.stringify(ids)};`, \"var error, result, i = 0;\", `var loop = ${runtimeTemplate.basicFunction(\"next\", [\"while(i < ids.length) {\", Template.indent([`try { next = ${RuntimeGlobals.require}(ids[i++]); } catch(e) { return handleError(e); }`, \"if(next) return next.then ? next.then(handleResult, handleError) : handleResult(next);\"]), \"}\", \"if(error) throw error;\"])}`, `var handleResult = ${runtimeTemplate.basicFunction(\"result\", [\"if(result) return result;\", \"return loop();\"])};`, `var handleError = ${runtimeTemplate.basicFunction(\"e\", [\"error = e;\", \"return loop();\"])};`, \"module.exports = loop();\"]);\n    const sources = new Map();\n    sources.set(\"javascript\", new RawSource(code));\n    return {\n      sources,\n      runtimeRequirements: RUNTIME_REQUIREMENTS\n    };\n  }\n\n  /**\n   * @param {ObjectSerializerContext} context context\n   */\n  serialize(context) {\n    const {\n      write\n    } = context;\n    write(this.requests);\n    super.serialize(context);\n  }\n\n  /**\n   * @param {ObjectDeserializerContext} context context\n   * @returns {FallbackModule} deserialized fallback module\n   */\n  static deserialize(context) {\n    const {\n      read\n    } = context;\n    const obj = new FallbackModule(read());\n    obj.deserialize(context);\n    return obj;\n  }\n}\nmakeSerializable(FallbackModule, \"webpack/lib/container/FallbackModule\");\nmodule.exports = FallbackModule;","map":{"version":3,"names":["RawSource","require","Module","WEBPACK_MODULE_TYPE_FALLBACK","RuntimeGlobals","Template","makeSerializable","FallbackItemDependency","TYPES","Set","RUNTIME_REQUIREMENTS","module","FallbackModule","constructor","requests","_identifier","join","identifier","readableIdentifier","requestShortener","libIdent","options","layer","length","chunkCondition","chunk","chunkGraph","getNumberOfEntryModules","needBuild","context","callback","buildInfo","build","compilation","resolver","fs","buildMeta","strict","clearDependenciesAndBlocks","request","addDependency","size","type","getSourceTypes","codeGeneration","runtimeTemplate","moduleGraph","ids","dependencies","map","dep","getModuleId","getModule","code","asString","JSON","stringify","basicFunction","indent","sources","Map","set","runtimeRequirements","serialize","write","deserialize","read","obj","exports"],"sources":["/Volumes/storage/projects/project-mcnt/node_modules/webpack/lib/container/FallbackModule.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra and Zackary Jackson @ScriptedAlchemy\n*/\n\n\"use strict\";\n\nconst { RawSource } = require(\"webpack-sources\");\nconst Module = require(\"../Module\");\nconst { WEBPACK_MODULE_TYPE_FALLBACK } = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst makeSerializable = require(\"../util/makeSerializable\");\nconst FallbackItemDependency = require(\"./FallbackItemDependency\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../ChunkGroup\")} ChunkGroup */\n/** @typedef {import(\"../Compilation\")} Compilation */\n/** @typedef {import(\"../Module\").CodeGenerationContext} CodeGenerationContext */\n/** @typedef {import(\"../Module\").CodeGenerationResult} CodeGenerationResult */\n/** @typedef {import(\"../Module\").LibIdentOptions} LibIdentOptions */\n/** @typedef {import(\"../Module\").NeedBuildContext} NeedBuildContext */\n/** @typedef {import(\"../Module\").SourceTypes} SourceTypes */\n/** @typedef {import(\"../RequestShortener\")} RequestShortener */\n/** @typedef {import(\"../ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectDeserializerContext} ObjectDeserializerContext */\n/** @typedef {import(\"../serialization/ObjectMiddleware\").ObjectSerializerContext} ObjectSerializerContext */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/fs\").InputFileSystem} InputFileSystem */\n\nconst TYPES = new Set([\"javascript\"]);\nconst RUNTIME_REQUIREMENTS = new Set([RuntimeGlobals.module]);\n\nclass FallbackModule extends Module {\n\t/**\n\t * @param {string[]} requests list of requests to choose one\n\t */\n\tconstructor(requests) {\n\t\tsuper(WEBPACK_MODULE_TYPE_FALLBACK);\n\t\tthis.requests = requests;\n\t\tthis._identifier = `fallback ${this.requests.join(\" \")}`;\n\t}\n\n\t/**\n\t * @returns {string} a unique identifier of the module\n\t */\n\tidentifier() {\n\t\treturn this._identifier;\n\t}\n\n\t/**\n\t * @param {RequestShortener} requestShortener the request shortener\n\t * @returns {string} a user readable identifier of the module\n\t */\n\treadableIdentifier(requestShortener) {\n\t\treturn this._identifier;\n\t}\n\n\t/**\n\t * @param {LibIdentOptions} options options\n\t * @returns {string | null} an identifier for library inclusion\n\t */\n\tlibIdent(options) {\n\t\treturn `${this.layer ? `(${this.layer})/` : \"\"}webpack/container/fallback/${\n\t\t\tthis.requests[0]\n\t\t}/and ${this.requests.length - 1} more`;\n\t}\n\n\t/**\n\t * @param {Chunk} chunk the chunk which condition should be checked\n\t * @param {Compilation} compilation the compilation\n\t * @returns {boolean} true, if the chunk is ok for the module\n\t */\n\tchunkCondition(chunk, { chunkGraph }) {\n\t\treturn chunkGraph.getNumberOfEntryModules(chunk) > 0;\n\t}\n\n\t/**\n\t * @param {NeedBuildContext} context context info\n\t * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n\t * @returns {void}\n\t */\n\tneedBuild(context, callback) {\n\t\tcallback(null, !this.buildInfo);\n\t}\n\n\t/**\n\t * @param {WebpackOptions} options webpack options\n\t * @param {Compilation} compilation the compilation\n\t * @param {ResolverWithOptions} resolver the resolver\n\t * @param {InputFileSystem} fs the file system\n\t * @param {function(WebpackError=): void} callback callback function\n\t * @returns {void}\n\t */\n\tbuild(options, compilation, resolver, fs, callback) {\n\t\tthis.buildMeta = {};\n\t\tthis.buildInfo = {\n\t\t\tstrict: true\n\t\t};\n\n\t\tthis.clearDependenciesAndBlocks();\n\t\tfor (const request of this.requests)\n\t\t\tthis.addDependency(new FallbackItemDependency(request));\n\n\t\tcallback();\n\t}\n\n\t/**\n\t * @param {string=} type the source type for which the size should be estimated\n\t * @returns {number} the estimated size of the module (must be non-zero)\n\t */\n\tsize(type) {\n\t\treturn this.requests.length * 5 + 42;\n\t}\n\n\t/**\n\t * @returns {SourceTypes} types available (do not mutate)\n\t */\n\tgetSourceTypes() {\n\t\treturn TYPES;\n\t}\n\n\t/**\n\t * @param {CodeGenerationContext} context context for code generation\n\t * @returns {CodeGenerationResult} result\n\t */\n\tcodeGeneration({ runtimeTemplate, moduleGraph, chunkGraph }) {\n\t\tconst ids = this.dependencies.map(dep =>\n\t\t\tchunkGraph.getModuleId(/** @type {Module} */ (moduleGraph.getModule(dep)))\n\t\t);\n\t\tconst code = Template.asString([\n\t\t\t`var ids = ${JSON.stringify(ids)};`,\n\t\t\t\"var error, result, i = 0;\",\n\t\t\t`var loop = ${runtimeTemplate.basicFunction(\"next\", [\n\t\t\t\t\"while(i < ids.length) {\",\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t`try { next = ${RuntimeGlobals.require}(ids[i++]); } catch(e) { return handleError(e); }`,\n\t\t\t\t\t\"if(next) return next.then ? next.then(handleResult, handleError) : handleResult(next);\"\n\t\t\t\t]),\n\t\t\t\t\"}\",\n\t\t\t\t\"if(error) throw error;\"\n\t\t\t])}`,\n\t\t\t`var handleResult = ${runtimeTemplate.basicFunction(\"result\", [\n\t\t\t\t\"if(result) return result;\",\n\t\t\t\t\"return loop();\"\n\t\t\t])};`,\n\t\t\t`var handleError = ${runtimeTemplate.basicFunction(\"e\", [\n\t\t\t\t\"error = e;\",\n\t\t\t\t\"return loop();\"\n\t\t\t])};`,\n\t\t\t\"module.exports = loop();\"\n\t\t]);\n\t\tconst sources = new Map();\n\t\tsources.set(\"javascript\", new RawSource(code));\n\t\treturn { sources, runtimeRequirements: RUNTIME_REQUIREMENTS };\n\t}\n\n\t/**\n\t * @param {ObjectSerializerContext} context context\n\t */\n\tserialize(context) {\n\t\tconst { write } = context;\n\t\twrite(this.requests);\n\t\tsuper.serialize(context);\n\t}\n\n\t/**\n\t * @param {ObjectDeserializerContext} context context\n\t * @returns {FallbackModule} deserialized fallback module\n\t */\n\tstatic deserialize(context) {\n\t\tconst { read } = context;\n\t\tconst obj = new FallbackModule(read());\n\t\tobj.deserialize(context);\n\t\treturn obj;\n\t}\n}\n\nmakeSerializable(FallbackModule, \"webpack/lib/container/FallbackModule\");\n\nmodule.exports = FallbackModule;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}